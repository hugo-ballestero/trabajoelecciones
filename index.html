<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.3.450">

  <meta name="author" content="Andrea Moncanut, Hugo Ballestero, Xiker Martín">
  <title>Análisis electorales</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for syntax highlighting */
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      { color: #003b4f; background-color: #f1f3f5; }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span { color: #003b4f; } /* Normal */
    code span.al { color: #ad0000; } /* Alert */
    code span.an { color: #5e5e5e; } /* Annotation */
    code span.at { color: #657422; } /* Attribute */
    code span.bn { color: #ad0000; } /* BaseN */
    code span.bu { } /* BuiltIn */
    code span.cf { color: #003b4f; } /* ControlFlow */
    code span.ch { color: #20794d; } /* Char */
    code span.cn { color: #8f5902; } /* Constant */
    code span.co { color: #5e5e5e; } /* Comment */
    code span.cv { color: #5e5e5e; font-style: italic; } /* CommentVar */
    code span.do { color: #5e5e5e; font-style: italic; } /* Documentation */
    code span.dt { color: #ad0000; } /* DataType */
    code span.dv { color: #ad0000; } /* DecVal */
    code span.er { color: #ad0000; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #ad0000; } /* Float */
    code span.fu { color: #4758ab; } /* Function */
    code span.im { color: #00769e; } /* Import */
    code span.in { color: #5e5e5e; } /* Information */
    code span.kw { color: #003b4f; } /* Keyword */
    code span.op { color: #5e5e5e; } /* Operator */
    code span.ot { color: #003b4f; } /* Other */
    code span.pp { color: #ad0000; } /* Preprocessor */
    code span.sc { color: #5e5e5e; } /* SpecialChar */
    code span.ss { color: #20794d; } /* SpecialString */
    code span.st { color: #20794d; } /* String */
    code span.va { color: #111111; } /* Variable */
    code span.vs { color: #20794d; } /* VerbatimString */
    code span.wa { color: #5e5e5e; font-style: italic; } /* Warning */
  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    margin-bottom: 0.5rem;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
  <script src="index_files/libs/htmlwidgets-1.6.2/htmlwidgets.js"></script>
  <script src="index_files/libs/plotly-binding-4.10.3/plotly.js"></script>
  <script src="index_files/libs/typedarray-0.1/typedarray.min.js"></script>
  <script src="index_files/libs/jquery-3.5.1/jquery.min.js"></script>
  <link href="index_files/libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet">
  <script src="index_files/libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
  <link href="index_files/libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet">
  <script src="index_files/libs/plotly-main-2.11.1/plotly-latest.min.js"></script>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Análisis electorales</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Andrea Moncanut, Hugo Ballestero, Xiker Martín 
</div>
</div>
</div>

</section>
<section class="slide level2">

<h3 id="paquetes-necesarios">Paquetes necesarios</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="fu">rm</span>(<span class="at">list =</span> <span class="fu">ls</span>()) <span class="co"># Borramos variables de environment</span></span>
<span id="cb1-2"><a href="#cb1-2"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="fu">library</span>(glue)</span>
<span id="cb1-4"><a href="#cb1-4"></a><span class="fu">library</span>(lubridate)</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="fu">library</span>(forcats)</span>
<span id="cb1-6"><a href="#cb1-6"></a><span class="fu">library</span>(gganimate)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<h3 id="datos">Datos</h3>
<p>Recopilan datos de citas electorales al Congreso de los Diputados de España desde 2008 hasta 2019</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1"></a>datos_elecciones <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/datos_elecciones_brutos.csv"</span>)</span>
<span id="cb2-2"><a href="#cb2-2"></a>cod_mun <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/cod_mun.csv"</span>)</span>
<span id="cb2-3"><a href="#cb2-3"></a>encuestas <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/historical_surveys.csv"</span>)</span>
<span id="cb2-4"><a href="#cb2-4"></a>siglas <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="at">file =</span> <span class="st">"./datos/siglas.csv"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section>
<section id="organización-data" class="title-slide slide level1 center">
<h1>– ORGANIZACIÓN – – DATA –</h1>

</section>
<section id="arreglo-data-siglas" class="slide level2">
<h2>1. ARREGLO DATA SIGLAS</h2>
<h3 id="normalización">1.1. NORMALIZACIÓN</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1"></a>caracteres_especiales <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">unlist</span>(<span class="fu">str_extract_all</span>(siglas<span class="sc">$</span>siglas,<span class="st">"</span><span class="sc">\\</span><span class="st">W"</span>))) <span class="co">#para tener constancia de cuáles símbolos hay</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a>normalizar_siglas <span class="ot">&lt;-</span> <span class="cf">function</span>(sigla) {</span>
<span id="cb3-4"><a href="#cb3-4"></a>  sigla_normalizada <span class="ot">&lt;-</span> sigla</span>
<span id="cb3-5"><a href="#cb3-5"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">toupper</span>(sigla_normalizada)  <span class="co"># Convertir a mayúsculas</span></span>
<span id="cb3-6"><a href="#cb3-6"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">."</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar puntos</span></span>
<span id="cb3-7"><a href="#cb3-7"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"-"</span>, <span class="st">""</span>, sigla_normalizada) <span class="co">#Eliminar guiones</span></span>
<span id="cb3-8"><a href="#cb3-8"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">("</span>, <span class="st">""</span>, sigla_normalizada) <span class="co"># Elimina paréntesis abierto</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">)"</span>, <span class="st">""</span>, sigla_normalizada) <span class="co"># Elimina paréntesis cerrado</span></span>
<span id="cb3-10"><a href="#cb3-10"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">" "</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar espacios</span></span>
<span id="cb3-11"><a href="#cb3-11"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">","</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar comas</span></span>
<span id="cb3-12"><a href="#cb3-12"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"'"</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar '</span></span>
<span id="cb3-13"><a href="#cb3-13"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"´"</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar ´</span></span>
<span id="cb3-14"><a href="#cb3-14"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">":"</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar :</span></span>
<span id="cb3-15"><a href="#cb3-15"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"</span><span class="sc">\\</span><span class="st">+"</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar +</span></span>
<span id="cb3-16"><a href="#cb3-16"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"¡"</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar ¡</span></span>
<span id="cb3-17"><a href="#cb3-17"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">" \ "</span>, <span class="st">""</span>, sigla_normalizada) <span class="co"># Eliminar \</span></span>
<span id="cb3-18"><a href="#cb3-18"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">"/"</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar /</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>  sigla_normalizada <span class="ot">&lt;-</span> <span class="fu">gsub</span>(<span class="st">'"'</span>, <span class="st">""</span>, sigla_normalizada)  <span class="co"># Eliminar "</span></span>
<span id="cb3-20"><a href="#cb3-20"></a>  <span class="fu">return</span>(sigla_normalizada)</span>
<span id="cb3-21"><a href="#cb3-21"></a>}</span>
<span id="cb3-22"><a href="#cb3-22"></a></span>
<span id="cb3-23"><a href="#cb3-23"></a><span class="co"># podemos comprobar</span></span>
<span id="cb3-24"><a href="#cb3-24"></a>respuesta <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">normalizar_siglas</span>(<span class="st">'+PS,oE+'</span>), <span class="fu">normalizar_siglas</span>(<span class="st">"¡P/p"</span>))</span>
<span id="cb3-25"><a href="#cb3-25"></a>respuesta</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "PSOE" "PP"  </code></pre>
</div>
</div>
<h3 id="cambios">1.2 CAMBIOS</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1"></a>siglas<span class="sc">$</span>siglas <span class="ot">&lt;-</span> <span class="fu">sapply</span>(siglas<span class="sc">$</span>siglas, normalizar_siglas)  </span>
<span id="cb5-2"><a href="#cb5-2"></a></span>
<span id="cb5-3"><a href="#cb5-3"></a>siglas <span class="ot">&lt;-</span>  </span>
<span id="cb5-4"><a href="#cb5-4"></a>  siglas <span class="sc">|&gt;</span>  </span>
<span id="cb5-5"><a href="#cb5-5"></a>  <span class="fu">distinct</span>(siglas, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="limpiar-elecciones" class="slide level2">
<h2>2. LIMPIAR ELECCIONES</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1"></a>datos_elecciones <span class="sc">|&gt;</span>    </span>
<span id="cb6-2"><a href="#cb6-2"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), n_distinct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1"></a>siglas <span class="ot">&lt;-</span> <span class="fu">add_row</span>(siglas, <span class="at">denominacion=</span><span class="st">"OTROS"</span>, <span class="at">siglas=</span><span class="st">"OTROS"</span>)</span>
<span id="cb7-2"><a href="#cb7-2"></a></span>
<span id="cb7-3"><a href="#cb7-3"></a>datos_limpios <span class="ot">&lt;-</span> </span>
<span id="cb7-4"><a href="#cb7-4"></a>  datos_elecciones <span class="sc">|&gt;</span> </span>
<span id="cb7-5"><a href="#cb7-5"></a>  <span class="fu">mutate</span>(<span class="fu">across</span>(<span class="fu">where</span>(is.logical), as.numeric)) <span class="sc">|&gt;</span> </span>
<span id="cb7-6"><a href="#cb7-6"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(tipo_eleccion, vuelta, codigo_distrito_electoral)) <span class="sc">|&gt;</span> </span>
<span id="cb7-7"><a href="#cb7-7"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols=</span><span class="fu">c</span>(<span class="st">"BERDEAK-LOS VERDES"</span><span class="sc">:</span><span class="st">"COALICIÓN POR MELILLA"</span>), </span>
<span id="cb7-8"><a href="#cb7-8"></a>               <span class="at">names_to=</span><span class="st">"partidos"</span>, <span class="at">values_to=</span><span class="st">"votos"</span>, <span class="at">values_drop_na =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb7-9"><a href="#cb7-9"></a>  <span class="fu">mutate</span>(<span class="at">siglas=</span><span class="fu">case_when</span>(</span>
<span id="cb7-10"><a href="#cb7-10"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"PARTIDO POPULAR|PARTIT POPULAR"</span>) <span class="sc">~</span> <span class="st">"PP"</span>, </span>
<span id="cb7-11"><a href="#cb7-11"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"PSOE|(PARTIT|PARTIDO) (SOCIALISTA|SOCIALISTES)|(PARTIT|PARTIDO) (OBRERO|OBRER) (SOCIALISTA|SOCIALISTES)"</span>) <span class="sc">~</span> <span class="st">"PSOE"</span>, </span>
<span id="cb7-12"><a href="#cb7-12"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"CIUDADANOS|CIUTADANS"</span>) <span class="sc">~</span> <span class="st">"CS"</span>, </span>
<span id="cb7-13"><a href="#cb7-13"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"(NACIONALISTA&amp;VASCO)|PARTIDO NACIONALISTA VASCO|EUZKO ALDERDI JELTZALEA"</span>) <span class="sc">~</span> <span class="st">"EAJPNV"</span>, </span>
<span id="cb7-14"><a href="#cb7-14"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"(NACIONAL&amp;GAL)|(BLOQUE NACIONALISTA GALEGO)"</span>) <span class="sc">~</span> <span class="st">"BNG"</span>, </span>
<span id="cb7-15"><a href="#cb7-15"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"COMPROMÍS"</span>) <span class="sc">~</span> <span class="st">"MÉSCOMPROM"</span>, </span>
<span id="cb7-16"><a href="#cb7-16"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"CONVERGENCIA I UNIO|CONVERGÈNCIA I UNIÓ|CONVERGÈNCIA i UNIÓ"</span>) <span class="sc">~</span> <span class="st">"CIU"</span>, </span>
<span id="cb7-17"><a href="#cb7-17"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"PODEMOS|PODEM|VERDE|VERDES|VERDS|EZKER BATUA|MAREA|(UNIDAS|UNIDOS) (PODEM|PODEMOS)"</span>) <span class="sc">~</span> <span class="st">"PODEMOS"</span>, </span>
<span id="cb7-18"><a href="#cb7-18"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"CATALUNYA SÍ|ESQUERRA REPUBLICANA DE CATALUNYA"</span>) <span class="sc">~</span> <span class="st">"ERC"</span>, </span>
<span id="cb7-19"><a href="#cb7-19"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"EUSKAL HERRIA BILDU|ARALAR|SORTU|EUSKO ALKARTASUNA|ALTERNATIBA"</span>) <span class="sc">~</span> <span class="st">"EHBILDU"</span>, </span>
<span id="cb7-20"><a href="#cb7-20"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"MÁS PAÍS"</span>) <span class="sc">~</span> <span class="st">"MPAÍS"</span>, </span>
<span id="cb7-21"><a href="#cb7-21"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"VOX"</span>) <span class="sc">~</span> <span class="st">"VOX"</span>, </span>
<span id="cb7-22"><a href="#cb7-22"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"OTROS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb7-23"><a href="#cb7-23"></a>  <span class="fu">left_join</span>(siglas, <span class="at">by=</span><span class="st">"siglas"</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb7-24"><a href="#cb7-24"></a>  <span class="fu">mutate</span>(<span class="at">cod_mun=</span><span class="fu">glue</span>(<span class="st">"{codigo_ccaa}-{codigo_provincia}-{codigo_municipio}"</span>), </span>
<span id="cb7-25"><a href="#cb7-25"></a>         <span class="at">fecha=</span><span class="fu">ymd</span>(<span class="fu">glue</span>(<span class="st">"{anno}-{mes}-1"</span>))) <span class="sc">|&gt;</span> </span>
<span id="cb7-26"><a href="#cb7-26"></a>  <span class="fu">group_by</span>(fecha, cod_mun, siglas) <span class="sc">|&gt;</span> </span>
<span id="cb7-27"><a href="#cb7-27"></a>  <span class="fu">mutate</span>(<span class="at">votos=</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb7-28"><a href="#cb7-28"></a>  <span class="fu">distinct</span>(fecha, cod_mun, siglas, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb7-29"><a href="#cb7-29"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb7-30"><a href="#cb7-30"></a>  <span class="fu">select</span>(<span class="sc">-</span>partidos) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(<span class="fu">c</span>(denominacion,siglas), <span class="at">.before=</span>votos) <span class="sc">|&gt;</span> </span>
<span id="cb7-31"><a href="#cb7-31"></a>  <span class="fu">relocate</span>(cod_mun, <span class="at">.after=</span>codigo_municipio) <span class="sc">|&gt;</span> <span class="fu">relocate</span>(fecha, <span class="at">.after=</span>mes)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="limpiar-encuestas" class="slide level2">
<h2>3. LIMPIAR ENCUESTAS</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1"></a>encuestas <span class="sc">|&gt;</span> </span>
<span id="cb8-2"><a href="#cb8-2"></a>  <span class="fu">summarise</span>(<span class="fu">across</span>(<span class="fu">everything</span>(), n_distinct))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb9"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb9-1"><a href="#cb9-1"></a>encuestas_limpias <span class="ot">&lt;-</span> </span>
<span id="cb9-2"><a href="#cb9-2"></a>  encuestas <span class="sc">|&gt;</span> </span>
<span id="cb9-3"><a href="#cb9-3"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(date_elec)<span class="sc">&gt;=</span><span class="dv">2008</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-4"><a href="#cb9-4"></a>  <span class="fu">filter</span>(exit_poll<span class="sc">==</span><span class="cn">FALSE</span>) <span class="sc">|&gt;</span> <span class="co"># a pies de urna</span></span>
<span id="cb9-5"><a href="#cb9-5"></a>  <span class="fu">drop_na</span>(size) <span class="sc">|&gt;</span> </span>
<span id="cb9-6"><a href="#cb9-6"></a>  <span class="fu">filter</span>(size<span class="sc">&gt;</span><span class="dv">750</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-7"><a href="#cb9-7"></a>  <span class="fu">filter</span>(field_date_to <span class="sc">-</span> field_date_from <span class="sc">&gt;</span> <span class="dv">1</span>) <span class="sc">|&gt;</span> <span class="co"># menos de un día de trabajo</span></span>
<span id="cb9-8"><a href="#cb9-8"></a>  <span class="fu">select</span>(<span class="sc">-</span><span class="fu">c</span>(type_survey,exit_poll)) <span class="sc">|&gt;</span> </span>
<span id="cb9-9"><a href="#cb9-9"></a>  <span class="fu">pivot_longer</span>(</span>
<span id="cb9-10"><a href="#cb9-10"></a>    <span class="at">cols=</span><span class="fu">c</span>(<span class="st">"UCD"</span><span class="sc">:</span><span class="st">"EV"</span>),</span>
<span id="cb9-11"><a href="#cb9-11"></a>    <span class="at">names_to=</span><span class="st">"partidos"</span>,</span>
<span id="cb9-12"><a href="#cb9-12"></a>    <span class="at">values_to=</span><span class="st">"estimacion_voto"</span>,</span>
<span id="cb9-13"><a href="#cb9-13"></a>    <span class="at">values_drop_na=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-14"><a href="#cb9-14"></a>  <span class="fu">mutate</span>(<span class="at">partidos=</span> <span class="fu">case_when</span>(</span>
<span id="cb9-15"><a href="#cb9-15"></a>    <span class="fu">str_detect</span>(partidos,<span class="st">"PSOE"</span> ) <span class="sc">~</span><span class="st">"PSOE"</span>,</span>
<span id="cb9-16"><a href="#cb9-16"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"PP"</span>) <span class="sc">~</span> <span class="st">"PP"</span>,</span>
<span id="cb9-17"><a href="#cb9-17"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"CS"</span>) <span class="sc">~</span> <span class="st">"CS"</span>,</span>
<span id="cb9-18"><a href="#cb9-18"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"PNV"</span>) <span class="sc">~</span> <span class="st">"EAJPNV"</span>,</span>
<span id="cb9-19"><a href="#cb9-19"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"BNG"</span>) <span class="sc">~</span> <span class="st">"BNG"</span>,</span>
<span id="cb9-20"><a href="#cb9-20"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"COMPROMIS"</span>) <span class="sc">~</span> <span class="st">"MÉSCOMPROM"</span>,</span>
<span id="cb9-21"><a href="#cb9-21"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"CIU"</span>) <span class="sc">~</span> <span class="st">"CIU"</span>,</span>
<span id="cb9-22"><a href="#cb9-22"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"UP|PODEMOS"</span>) <span class="sc">~</span> <span class="st">"PODEMOS"</span>,</span>
<span id="cb9-23"><a href="#cb9-23"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"ERC"</span>) <span class="sc">~</span> <span class="st">"ERC"</span>,</span>
<span id="cb9-24"><a href="#cb9-24"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"EH-BILDU"</span>) <span class="sc">~</span> <span class="st">"EHBILDU"</span>,</span>
<span id="cb9-25"><a href="#cb9-25"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"MP"</span>) <span class="sc">~</span> <span class="st">"MPAÍS"</span>,</span>
<span id="cb9-26"><a href="#cb9-26"></a>    <span class="fu">str_detect</span>(partidos, <span class="st">"VOX"</span>) <span class="sc">~</span> <span class="st">"VOX"</span>,</span>
<span id="cb9-27"><a href="#cb9-27"></a>    <span class="cn">TRUE</span> <span class="sc">~</span> <span class="st">"OTROS"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb9-28"><a href="#cb9-28"></a>  <span class="fu">group_by</span>(date_elec,id_pollster, field_date_from, field_date_to, size, partidos) <span class="sc">|&gt;</span> </span>
<span id="cb9-29"><a href="#cb9-29"></a>  <span class="fu">mutate</span>(<span class="at">est_voto_sigla=</span><span class="fu">sum</span>(estimacion_voto)) <span class="sc">|&gt;</span> </span>
<span id="cb9-30"><a href="#cb9-30"></a>  <span class="fu">select</span>(<span class="sc">-</span>estimacion_voto) <span class="sc">|&gt;</span> </span>
<span id="cb9-31"><a href="#cb9-31"></a>  <span class="fu">distinct</span>(partidos, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb9-32"><a href="#cb9-32"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="tema-para-los-gráficos" class="slide level2">
<h2>TEMA PARA LOS GRÁFICOS</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1"></a><span class="fu">library</span>(showtext)</span>
<span id="cb10-2"><a href="#cb10-2"></a><span class="fu">library</span>(sysfonts)</span>
<span id="cb10-3"><a href="#cb10-3"></a><span class="fu">library</span>(peRReo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb11"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb11-1"><a href="#cb11-1"></a><span class="co"># Descargar la fue  nte de google, p.e:</span></span>
<span id="cb11-2"><a href="#cb11-2"></a><span class="fu">font_add_google</span>(<span class="at">name =</span> <span class="st">"Montserrat"</span>)</span>
<span id="cb11-3"><a href="#cb11-3"></a></span>
<span id="cb11-4"><a href="#cb11-4"></a><span class="co">#Utilizar la fuente</span></span>
<span id="cb11-5"><a href="#cb11-5"></a><span class="fu">showtext.auto</span>()</span>
<span id="cb11-6"><a href="#cb11-6"></a></span>
<span id="cb11-7"><a href="#cb11-7"></a><span class="co">#tema</span></span>
<span id="cb11-8"><a href="#cb11-8"></a><span class="fu">theme_set</span>(<span class="fu">theme_minimal</span>(<span class="at">base_family =</span> <span class="st">"Montserrat"</span>))</span>
<span id="cb11-9"><a href="#cb11-9"></a><span class="fu">theme_update</span>(</span>
<span id="cb11-10"><a href="#cb11-10"></a>  <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">color =</span> <span class="st">"#EEC591"</span>,</span>
<span id="cb11-11"><a href="#cb11-11"></a>                                 <span class="at">size =</span> <span class="dv">4</span>, <span class="at">fill =</span> <span class="st">"seashell1"</span>),</span>
<span id="cb11-12"><a href="#cb11-12"></a>  <span class="at">plot.title =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">25</span>),</span>
<span id="cb11-13"><a href="#cb11-13"></a>  <span class="at">plot.subtitle =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>, <span class="at">size =</span> <span class="dv">15</span>),</span>
<span id="cb11-14"><a href="#cb11-14"></a>  <span class="at">axis.title.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb11-15"><a href="#cb11-15"></a>  <span class="at">axis.text.x =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>), </span>
<span id="cb11-16"><a href="#cb11-16"></a>  <span class="at">axis.title.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb11-17"><a href="#cb11-17"></a>  <span class="at">axis.text.y =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>), </span>
<span id="cb11-18"><a href="#cb11-18"></a>  <span class="at">panel.grid.minor =</span> <span class="fu">element_blank</span>(),</span>
<span id="cb11-19"><a href="#cb11-19"></a>  <span class="at">strip.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#EBEBEB"</span>),</span>
<span id="cb11-20"><a href="#cb11-20"></a>  <span class="at">strip.text =</span> <span class="fu">element_text</span>(<span class="at">face =</span> <span class="st">"bold"</span>),</span>
<span id="cb11-21"><a href="#cb11-21"></a>  <span class="at">legend.box.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"#EBEBEB"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section></section>
<section>
<section id="análisis" class="title-slide slide level1 center">
<h1>– ANÁLISIS –</h1>

</section>
<section id="caso-1" class="slide level2">
<h2>CASO 1</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1"></a>nacionalismo <span class="ot">&lt;-</span> </span>
<span id="cb12-2"><a href="#cb12-2"></a>  datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb12-3"><a href="#cb12-3"></a>  <span class="fu">mutate</span>(<span class="at">categoria=</span><span class="fu">case_when</span>(</span>
<span id="cb12-4"><a href="#cb12-4"></a>    <span class="fu">str_detect</span>(siglas, <span class="st">"PSOE|PP|VOX|CS|MPAÍS|PODEMOS"</span>) <span class="sc">~</span> <span class="st">"nacional"</span>,</span>
<span id="cb12-5"><a href="#cb12-5"></a>    <span class="cn">TRUE</span> <span class="sc">~</span><span class="st">"nacionalista"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb12-6"><a href="#cb12-6"></a>  <span class="fu">mutate</span>(<span class="at">votos_t =</span> <span class="fu">sum</span>(votos), <span class="at">.by =</span> fecha) <span class="sc">|&gt;</span> </span>
<span id="cb12-7"><a href="#cb12-7"></a>  <span class="fu">group_by</span>(fecha,categoria) <span class="sc">|&gt;</span> </span>
<span id="cb12-8"><a href="#cb12-8"></a>  <span class="fu">reframe</span>(<span class="at">prop_voto=</span><span class="dv">100</span><span class="sc">*</span><span class="fu">sum</span>(votos)<span class="sc">/</span>votos_t) <span class="sc">|&gt;</span> </span>
<span id="cb12-9"><a href="#cb12-9"></a>  <span class="fu">distinct</span>(fecha, categoria, prop_voto)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="section" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-11-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">El voto de los partidos nacionales y nacionalistas se suelen repartir sobre un 80%, y un 20% aproximidamente respectivamente. Hay que destacar que en 2011 vemos que los partidos nacionalistas tuvieron más votos de lo habitual</p></section>
<section id="caso-2" class="slide level2">
<h2>CASO 2</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1"></a>ganador <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb13-2"><a href="#cb13-2"></a>  <span class="fu">filter</span>(censo<span class="sc">&gt;</span><span class="dv">100000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-3"><a href="#cb13-3"></a>  <span class="fu">group_by</span>(fecha,cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb13-4"><a href="#cb13-4"></a>  <span class="fu">filter</span>(votos<span class="sc">==</span><span class="fu">max</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb13-5"><a href="#cb13-5"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by=</span><span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb13-6"><a href="#cb13-6"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.after=</span>cod_mun) <span class="sc">|&gt;</span></span>
<span id="cb13-7"><a href="#cb13-7"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb13-8"><a href="#cb13-8"></a>  <span class="fu">select</span>(fecha, municipio, siglas)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-13-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Partido ganador en los municipios de más de 100 000 habitantes de censo en cada una de las elecciones</p></section>
<section id="caso-3" class="slide level2">
<h2>CASO 3</h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1"></a>n_votado <span class="ot">&lt;-</span> <span class="cf">function</span>(partidos, votos, <span class="at">n =</span> <span class="dv">1</span>) {</span>
<span id="cb14-2"><a href="#cb14-2"></a>  </span>
<span id="cb14-3"><a href="#cb14-3"></a>  datos <span class="ot">&lt;-</span> <span class="fu">tibble</span>(partidos, votos) </span>
<span id="cb14-4"><a href="#cb14-4"></a>  siglas <span class="ot">&lt;-</span></span>
<span id="cb14-5"><a href="#cb14-5"></a>    datos <span class="sc">|&gt;</span></span>
<span id="cb14-6"><a href="#cb14-6"></a>    <span class="fu">slice_max</span>(<span class="at">n =</span> n, votos, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-7"><a href="#cb14-7"></a>    <span class="fu">slice_min</span>(<span class="at">n =</span> <span class="dv">1</span>, votos, <span class="at">with_ties =</span> <span class="cn">FALSE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb14-8"><a href="#cb14-8"></a>    <span class="fu">pull</span>(partidos)</span>
<span id="cb14-9"><a href="#cb14-9"></a>  </span>
<span id="cb14-10"><a href="#cb14-10"></a>  <span class="fu">return</span>(siglas)</span>
<span id="cb14-11"><a href="#cb14-11"></a>}</span>
<span id="cb14-12"><a href="#cb14-12"></a></span>
<span id="cb14-13"><a href="#cb14-13"></a><span class="co"># n = 1 te da el primero</span></span>
<span id="cb14-14"><a href="#cb14-14"></a><span class="co"># n = 2 te da el segundo con más votos</span></span>
<span id="cb14-15"><a href="#cb14-15"></a>sol <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="fu">n_votado</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">6</span>)), </span>
<span id="cb14-16"><a href="#cb14-16"></a>         <span class="fu">n_votado</span>(<span class="fu">c</span>(<span class="st">"A"</span>, <span class="st">"B"</span>, <span class="st">"C"</span>), <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>,<span class="dv">6</span>), <span class="at">n=</span><span class="dv">2</span>))</span>
<span id="cb14-17"><a href="#cb14-17"></a></span>
<span id="cb14-18"><a href="#cb14-18"></a>sol</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "C" "B"</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1"></a>ganadores <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb16-2"><a href="#cb16-2"></a>  <span class="fu">group_by</span>(fecha,siglas) <span class="sc">|&gt;</span> </span>
<span id="cb16-3"><a href="#cb16-3"></a>  <span class="fu">summarise</span>(<span class="at">votos=</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb16-4"><a href="#cb16-4"></a>  <span class="fu">mutate</span>(<span class="at">ganador=</span> <span class="fu">n_votado</span>(siglas, votos),</span>
<span id="cb16-5"><a href="#cb16-5"></a>         <span class="at">segundo =</span> <span class="fu">n_votado</span>(siglas, votos, <span class="at">n =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb16-6"><a href="#cb16-6"></a>  <span class="fu">distinct</span>(fecha, ganador, segundo) <span class="sc">|&gt;</span> </span>
<span id="cb16-7"><a href="#cb16-7"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<p>El PSOE fue ganador en 2019-04-01, 2019-11-01, quedando en segundo lugar el PP</p>
<p>Cuando el PP ganó, 2008-03-01, 2011-11-01, 2015-12-01, 2016-06-01, quedó en segundo lugar el PSOE</p>
</section>
<section id="caso-4" class="slide level2">
<h2>CASO 4</h2>
<p>Código municipios</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1"></a>codigo_municipio <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb17-2"><a href="#cb17-2"></a>  <span class="fu">filter</span>(censo <span class="sc">&gt;</span> <span class="dv">2000</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-3"><a href="#cb17-3"></a>  <span class="fu">group_by</span>(fecha, cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb17-4"><a href="#cb17-4"></a>  <span class="fu">mutate</span>(<span class="at">prop_voto =</span> votos <span class="sc">/</span> <span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb17-5"><a href="#cb17-5"></a>  <span class="fu">mutate</span>(<span class="at">ganador =</span> <span class="fu">n_votado</span>(siglas, votos),</span>
<span id="cb17-6"><a href="#cb17-6"></a>         <span class="at">segundo =</span> <span class="fu">n_votado</span>(siglas, votos, <span class="at">n =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb17-7"><a href="#cb17-7"></a>  <span class="fu">filter</span>(siglas <span class="sc">%in%</span> <span class="fu">c</span>(ganador, segundo)) <span class="sc">|&gt;</span> </span>
<span id="cb17-8"><a href="#cb17-8"></a>  <span class="fu">mutate</span>(<span class="at">diferencia =</span> <span class="cf">if</span> (<span class="fu">n</span>() <span class="sc">==</span> <span class="dv">2</span>) <span class="fu">abs</span>(<span class="dv">100</span> <span class="sc">*</span><span class="fu">diff</span>(prop_voto)) <span class="cf">else</span> <span class="cn">NA_real_</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-9"><a href="#cb17-9"></a>  <span class="fu">distinct</span>(cod_mun, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-10"><a href="#cb17-10"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb17-11"><a href="#cb17-11"></a>  <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb17-12"><a href="#cb17-12"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> diferencia, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-13"><a href="#cb17-13"></a>  <span class="fu">arrange</span>(fecha, <span class="fu">desc</span>(diferencia)) <span class="sc">|&gt;</span> </span>
<span id="cb17-14"><a href="#cb17-14"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by=</span><span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-15"><a href="#cb17-15"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.after=</span>cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb17-16"><a href="#cb17-16"></a>  <span class="fu">select</span>(fecha,municipio,diferencia,ganador,segundo)</span>
<span id="cb17-17"><a href="#cb17-17"></a></span>
<span id="cb17-18"><a href="#cb17-18"></a>codigo_2008_municipio <span class="ot">&lt;-</span> codigo_municipio <span class="sc">|&gt;</span> </span>
<span id="cb17-19"><a href="#cb17-19"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2008</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-20"><a href="#cb17-20"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(diferencia))</span>
<span id="cb17-21"><a href="#cb17-21"></a></span>
<span id="cb17-22"><a href="#cb17-22"></a>codigo_2019_municipio <span class="ot">&lt;-</span> codigo_municipio <span class="sc">|&gt;</span> </span>
<span id="cb17-23"><a href="#cb17-23"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2019</span> <span class="sc">&amp;</span> <span class="fu">month</span>(fecha)<span class="sc">==</span><span class="dv">11</span>) <span class="sc">|&gt;</span> </span>
<span id="cb17-24"><a href="#cb17-24"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(diferencia))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-17-1.png" width="960" class="r-stretch"></section>
<section id="section-2" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-18-1.png" width="960" class="r-stretch"></section>
<section id="section-3" class="slide level2">
<h2></h2>
<p>Por provincia</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb18"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1"></a>codigo_provincia <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb18-2"><a href="#cb18-2"></a>  <span class="fu">group_by</span>(fecha, codigo_provincia, siglas) <span class="sc">|&gt;</span></span>
<span id="cb18-3"><a href="#cb18-3"></a>  <span class="fu">mutate</span>(<span class="at">votos=</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb18-4"><a href="#cb18-4"></a>  <span class="fu">select</span>(fecha, codigo_provincia, siglas, votos) <span class="sc">|&gt;</span> </span>
<span id="cb18-5"><a href="#cb18-5"></a>  <span class="fu">distinct</span>(fecha,codigo_provincia,siglas,votos) <span class="sc">|&gt;</span> </span>
<span id="cb18-6"><a href="#cb18-6"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-7"><a href="#cb18-7"></a>  <span class="fu">group_by</span>(fecha,codigo_provincia) <span class="sc">|&gt;</span> </span>
<span id="cb18-8"><a href="#cb18-8"></a>  <span class="fu">mutate</span>(<span class="at">prop_voto=</span>votos<span class="sc">/</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb18-9"><a href="#cb18-9"></a>  <span class="fu">mutate</span>(<span class="at">ganador =</span> <span class="fu">n_votado</span>(siglas, votos),</span>
<span id="cb18-10"><a href="#cb18-10"></a>         <span class="at">segundo =</span> <span class="fu">n_votado</span>(siglas, votos, <span class="at">n =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb18-11"><a href="#cb18-11"></a>  <span class="fu">filter</span>(siglas <span class="sc">%in%</span> <span class="fu">c</span>(ganador, segundo)) <span class="sc">|&gt;</span> </span>
<span id="cb18-12"><a href="#cb18-12"></a>  <span class="fu">mutate</span>(<span class="at">diferencia=</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">abs</span>(<span class="fu">diff</span>(prop_voto))) <span class="sc">|&gt;</span> </span>
<span id="cb18-13"><a href="#cb18-13"></a>  <span class="fu">distinct</span>(codigo_provincia, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-14"><a href="#cb18-14"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-15"><a href="#cb18-15"></a>  <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb18-16"><a href="#cb18-16"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> diferencia, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb18-17"><a href="#cb18-17"></a>  <span class="fu">arrange</span>(fecha, <span class="fu">desc</span>(diferencia)) <span class="sc">|&gt;</span> </span>
<span id="cb18-18"><a href="#cb18-18"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb18-19"><a href="#cb18-19"></a>  <span class="fu">select</span>(fecha, codigo_provincia, ganador, segundo, diferencia )</span>
<span id="cb18-20"><a href="#cb18-20"></a></span>
<span id="cb18-21"><a href="#cb18-21"></a>codigo_2008_provincia <span class="ot">&lt;-</span> codigo_provincia <span class="sc">|&gt;</span> </span>
<span id="cb18-22"><a href="#cb18-22"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2008</span>)</span>
<span id="cb18-23"><a href="#cb18-23"></a></span>
<span id="cb18-24"><a href="#cb18-24"></a>codigo_2019_provincia <span class="ot">&lt;-</span> codigo_provincia <span class="sc">|&gt;</span> </span>
<span id="cb18-25"><a href="#cb18-25"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2019</span> <span class="sc">&amp;</span> <span class="fu">month</span>(fecha)<span class="sc">==</span><span class="dv">11</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-20-1.png" width="960" class="r-stretch"></section>
<section id="section-4" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-21-1.png" width="960" class="r-stretch"></section>
<section id="section-5" class="slide level2">
<h2></h2>
<p>Por comunidad</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1"></a>codigo_comunidades <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb19-2"><a href="#cb19-2"></a>  <span class="fu">group_by</span>(fecha, codigo_ccaa, siglas) <span class="sc">|&gt;</span></span>
<span id="cb19-3"><a href="#cb19-3"></a>  <span class="fu">mutate</span>(<span class="at">votos=</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb19-4"><a href="#cb19-4"></a>  <span class="fu">select</span>(fecha, codigo_ccaa, siglas, votos) <span class="sc">|&gt;</span> </span>
<span id="cb19-5"><a href="#cb19-5"></a>  <span class="fu">distinct</span>(fecha,codigo_ccaa,siglas,votos) <span class="sc">|&gt;</span> </span>
<span id="cb19-6"><a href="#cb19-6"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-7"><a href="#cb19-7"></a>  <span class="fu">group_by</span>(fecha,codigo_ccaa) <span class="sc">|&gt;</span> </span>
<span id="cb19-8"><a href="#cb19-8"></a>  <span class="fu">mutate</span>(<span class="at">prop_voto=</span>votos<span class="sc">/</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb19-9"><a href="#cb19-9"></a>  <span class="fu">mutate</span>(<span class="at">ganador =</span> <span class="fu">n_votado</span>(siglas, votos),</span>
<span id="cb19-10"><a href="#cb19-10"></a>         <span class="at">segundo =</span> <span class="fu">n_votado</span>(siglas, votos, <span class="at">n =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb19-11"><a href="#cb19-11"></a>  <span class="fu">filter</span>(siglas <span class="sc">%in%</span> <span class="fu">c</span>(ganador, segundo)) <span class="sc">|&gt;</span> </span>
<span id="cb19-12"><a href="#cb19-12"></a>  <span class="fu">mutate</span>(<span class="at">diferencia=</span> <span class="dv">100</span> <span class="sc">*</span> <span class="fu">abs</span>(<span class="fu">diff</span>(prop_voto))) <span class="sc">|&gt;</span> </span>
<span id="cb19-13"><a href="#cb19-13"></a>  <span class="fu">distinct</span>(codigo_ccaa, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-14"><a href="#cb19-14"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-15"><a href="#cb19-15"></a>  <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb19-16"><a href="#cb19-16"></a>  <span class="fu">slice_max</span>(<span class="at">order_by =</span> diferencia, <span class="at">n =</span> <span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb19-17"><a href="#cb19-17"></a>  <span class="fu">arrange</span>(fecha, <span class="fu">desc</span>(diferencia)) <span class="sc">|&gt;</span> </span>
<span id="cb19-18"><a href="#cb19-18"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb19-19"><a href="#cb19-19"></a>  <span class="fu">select</span>(fecha, codigo_ccaa, ganador, segundo, diferencia )</span>
<span id="cb19-20"><a href="#cb19-20"></a></span>
<span id="cb19-21"><a href="#cb19-21"></a>codigo_2008_ccaa <span class="ot">&lt;-</span> codigo_comunidades <span class="sc">|&gt;</span> </span>
<span id="cb19-22"><a href="#cb19-22"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2008</span>)</span>
<span id="cb19-23"><a href="#cb19-23"></a></span>
<span id="cb19-24"><a href="#cb19-24"></a>codigo_2019_ccaa <span class="ot">&lt;-</span> codigo_comunidades <span class="sc">|&gt;</span> </span>
<span id="cb19-25"><a href="#cb19-25"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2019</span> <span class="sc">&amp;</span> <span class="fu">month</span>(fecha)<span class="sc">==</span><span class="dv">11</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-23-1.png" width="960" class="r-stretch"></section>
<section id="section-6" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-24-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Vemos que las diferencia se ha ido reduciendo a lo largo de los años entre muncipios, provincias, y comunidades. Podemos decir que está la población más polarizada actualmente que en 2008. Asimismo, podemos ver que algunos municipios, provincias y comunidades han mantenido la diferencia saliendo en ambas gráficas</p></section>
<section id="caso-5" class="slide level2">
<h2>CASO 5</h2>
<h3 id="porcentajes-de-votos-nulos-por-municipio-en-cada-elección">Porcentajes de votos nulos por municipio en cada elección</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1"></a>votos_nul <span class="ot">&lt;-</span> </span>
<span id="cb20-2"><a href="#cb20-2"></a>  datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb20-3"><a href="#cb20-3"></a>  <span class="fu">select</span>(fecha,cod_mun,votos_nulos,votos_candidaturas,votos_blancos) <span class="sc">|&gt;</span> </span>
<span id="cb20-4"><a href="#cb20-4"></a>  <span class="fu">distinct</span>(fecha,cod_mun,<span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-5"><a href="#cb20-5"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje_nulos=</span>votos_nulos<span class="sc">*</span><span class="dv">100</span><span class="sc">/</span>(votos_candidaturas <span class="sc">+</span> votos_blancos),</span>
<span id="cb20-6"><a href="#cb20-6"></a>         <span class="at">.by =</span><span class="fu">c</span>(fecha,cod_mun)) <span class="sc">|&gt;</span></span>
<span id="cb20-7"><a href="#cb20-7"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(porcentaje_nulos)) <span class="sc">|&gt;</span> </span>
<span id="cb20-8"><a href="#cb20-8"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by=</span><span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb20-9"><a href="#cb20-9"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.before =</span> cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb20-10"><a href="#cb20-10"></a>  <span class="fu">select</span>(fecha, municipio, porcentaje_nulos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="section-7" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-26-1.png" width="960" class="r-stretch"></section>
<section id="section-8" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-27-1.png" width="960" class="r-stretch"></section>
<section id="section-9" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-28-1.png" width="960" class="r-stretch"></section>
<section id="section-10" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-29-1.png" width="960" class="r-stretch"></section>
<section id="section-11" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-30-1.png" width="960" class="r-stretch"></section>
<section id="section-12" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-31-1.png" width="960" class="r-stretch"></section>
<section id="section-13" class="slide level2">
<h2></h2>
<h3 id="porcentaje-de-votos-nulos-por-municipio-en-media">Porcentaje de votos nulos por municipio, en media</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1"></a>votos_nul_medio <span class="ot">&lt;-</span></span>
<span id="cb21-2"><a href="#cb21-2"></a>  datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb21-3"><a href="#cb21-3"></a>  <span class="fu">select</span>(fecha,cod_mun,votos_nulos,votos_candidaturas,votos_blancos) <span class="sc">|&gt;</span> </span>
<span id="cb21-4"><a href="#cb21-4"></a>  <span class="fu">distinct</span>(fecha,cod_mun,<span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span>  </span>
<span id="cb21-5"><a href="#cb21-5"></a>  <span class="fu">mutate</span>(<span class="at">porcentaje_nulos=</span>votos_nulos<span class="sc">*</span><span class="dv">100</span><span class="sc">/</span>(votos_candidaturas <span class="sc">+</span> votos_blancos),<span class="at">.by =</span><span class="fu">c</span>(fecha,cod_mun)) <span class="sc">|&gt;</span> </span>
<span id="cb21-6"><a href="#cb21-6"></a>  <span class="fu">mutate</span>(<span class="at">media_nulos=</span><span class="fu">mean</span>(porcentaje_nulos),<span class="at">.by =</span> cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb21-7"><a href="#cb21-7"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(media_nulos)) <span class="sc">|&gt;</span> </span>
<span id="cb21-8"><a href="#cb21-8"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by=</span><span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb21-9"><a href="#cb21-9"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.before =</span> cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb21-10"><a href="#cb21-10"></a>  <span class="fu">distinct</span>(cod_mun, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb21-11"><a href="#cb21-11"></a>  <span class="fu">select</span>(municipio, media_nulos)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="section-14" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-33-1.png" width="960" class="r-stretch"></section>
<section id="caso-6" class="slide level2">
<h2>CASO 6</h2>
<h5 id="sitios-con-mayor-participación-y-su-ganador">Sitios con mayor participación y su ganador</h5>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb22"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb22-1"><a href="#cb22-1"></a>maxi <span class="ot">&lt;-</span> </span>
<span id="cb22-2"><a href="#cb22-2"></a>  datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb22-3"><a href="#cb22-3"></a>  <span class="fu">group_by</span>(fecha, cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb22-4"><a href="#cb22-4"></a>  <span class="fu">mutate</span>(<span class="at">votos_mun =</span> <span class="fu">sum</span>(votos, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb22-5"><a href="#cb22-5"></a>         <span class="at">prc_participacion =</span> <span class="dv">100</span><span class="sc">*</span>(votos_mun<span class="sc">+</span>votos_blancos<span class="sc">+</span>votos_nulos)<span class="sc">/</span>censo) <span class="sc">|&gt;</span></span>
<span id="cb22-6"><a href="#cb22-6"></a>  <span class="fu">filter</span>(votos <span class="sc">==</span> <span class="fu">max</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb22-7"><a href="#cb22-7"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb22-8"><a href="#cb22-8"></a>  <span class="fu">slice_max</span>(prc_participacion, <span class="at">n=</span><span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-9"><a href="#cb22-9"></a>  <span class="fu">mutate</span>(<span class="at">prc_participacion =</span> <span class="fu">if_else</span>(prc_participacion <span class="sc">&gt;</span> <span class="dv">100</span>, <span class="cn">NA</span>,prc_participacion)) <span class="sc">|&gt;</span> </span>
<span id="cb22-10"><a href="#cb22-10"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by =</span> <span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb22-11"><a href="#cb22-11"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.after =</span> cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb22-12"><a href="#cb22-12"></a>  <span class="fu">select</span>(fecha, municipio, siglas, votos, prc_participacion)</span>
<span id="cb22-13"><a href="#cb22-13"></a></span>
<span id="cb22-14"><a href="#cb22-14"></a>maxi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 169 × 5
   fecha      municipio                siglas votos prc_participacion
   &lt;date&gt;     &lt;chr&gt;                    &lt;chr&gt;  &lt;dbl&gt;             &lt;dbl&gt;
 1 2019-04-01 Alcolea de las Peñas     PP         4                NA
 2 2008-03-01 Blasconuño de Matacabras PP        11               100
 3 2008-03-01 San Esteban de los Patos PSOE      13               100
 4 2008-03-01 Vileña                   PP        22               100
 5 2008-03-01 Villaldemiro             PP        49               100
 6 2008-03-01 Castell de Cabres        PSOE       6               100
 7 2008-03-01 Castilnuevo              PP         5               100
 8 2008-03-01 Tortuero                 PSOE      15               100
 9 2008-03-01 Valdesotos               PP        19               100
10 2008-03-01 Gallinero de Cameros     PP        14               100
# ℹ 159 more rows</code></pre>
</div>
</div>
</section>
<section id="section-15" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-35-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Como se puede observar el PP tiene predominancia en los municipios con mayor participación</p></section>
<section id="section-16" class="slide level2">
<h2></h2>
<h4 id="sitios-con-menor-participación-y-su-ganador">Sitios con menor participación y su ganador</h4>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1"></a>mini <span class="ot">&lt;-</span> </span>
<span id="cb24-2"><a href="#cb24-2"></a>  datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb24-3"><a href="#cb24-3"></a>  <span class="fu">group_by</span>(fecha, cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb24-4"><a href="#cb24-4"></a>  <span class="fu">mutate</span>(<span class="at">votos_mun =</span> <span class="fu">sum</span>(votos, <span class="at">na.rm =</span> <span class="cn">TRUE</span>), </span>
<span id="cb24-5"><a href="#cb24-5"></a>         <span class="at">prc_participacion =</span> <span class="dv">100</span><span class="sc">*</span>(votos_mun<span class="sc">+</span>votos_blancos)<span class="sc">/</span>censo) <span class="sc">|&gt;</span></span>
<span id="cb24-6"><a href="#cb24-6"></a>  <span class="fu">filter</span>(votos <span class="sc">==</span> <span class="fu">max</span>(votos)) <span class="sc">|&gt;</span></span>
<span id="cb24-7"><a href="#cb24-7"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb24-8"><a href="#cb24-8"></a>  <span class="fu">slice_min</span>(prc_participacion, <span class="at">n=</span><span class="dv">30</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-9"><a href="#cb24-9"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by =</span> <span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb24-10"><a href="#cb24-10"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.after =</span> cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb24-11"><a href="#cb24-11"></a>  <span class="fu">select</span>(fecha, municipio, siglas, votos, prc_participacion) <span class="sc">|&gt;</span> </span>
<span id="cb24-12"><a href="#cb24-12"></a>  <span class="fu">arrange</span>(fecha)</span>
<span id="cb24-13"><a href="#cb24-13"></a></span>
<span id="cb24-14"><a href="#cb24-14"></a>mini</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 5
   fecha      municipio  siglas  votos prc_participacion
   &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;   &lt;dbl&gt;             &lt;dbl&gt;
 1 2008-03-01 Orexa      EAJPNV      1              2.11
 2 2008-03-01 Baliarrain EAJPNV      8             16.0 
 3 2008-03-01 Lizartza   EAJPNV     43             17.0 
 4 2008-03-01 Goizueta   OTROS      99             19.5 
 5 2008-03-01 Elduain    EAJPNV     25             24.0 
 6 2008-03-01 Leaburu    EAJPNV     51             24.5 
 7 2008-03-01 Aduna      EAJPNV     31             24.6 
 8 2008-03-01 Errezil    EAJPNV    107             25.3 
 9 2008-03-01 Aulesti    EAJPNV    124             25.4 
10 2008-03-01 Belauntza  EHBILDU    24             25.4 
# ℹ 20 more rows</code></pre>
</div>
</div>
</section>
<section id="section-17" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-37-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">El EAJPNV se ve beneficiado en los sitios con menor participación, ganando en su mayoría</p></section>
<section id="caso-7" class="slide level2">
<h2>CASO 7</h2>
<h3 id="relación-censo-votos">Relación censo-votos</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1"></a>relacion <span class="ot">&lt;-</span></span>
<span id="cb26-2"><a href="#cb26-2"></a>  datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb26-3"><a href="#cb26-3"></a>  <span class="fu">mutate</span>(<span class="at">porc_part =</span> ((<span class="fu">sum</span>(votos)<span class="sc">+</span>votos_blancos<span class="sc">+</span>votos_nulos)<span class="sc">*</span><span class="dv">100</span>)<span class="sc">/</span>censo,</span>
<span id="cb26-4"><a href="#cb26-4"></a>         <span class="at">.by =</span> <span class="fu">c</span>(fecha, cod_mun)) <span class="sc">|&gt;</span> </span>
<span id="cb26-5"><a href="#cb26-5"></a>  <span class="fu">distinct</span>(fecha, cod_mun, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span></span>
<span id="cb26-6"><a href="#cb26-6"></a>  <span class="fu">group_by</span>(fecha, censo <span class="sc">&gt;</span> <span class="dv">10000</span> ) <span class="sc">|&gt;</span> </span>
<span id="cb26-7"><a href="#cb26-7"></a>  <span class="fu">summarise</span>(<span class="at">porc_part_promedio =</span> <span class="fu">mean</span>(porc_part, <span class="at">na.rm =</span> <span class="cn">TRUE</span>))</span>
<span id="cb26-8"><a href="#cb26-8"></a></span>
<span id="cb26-9"><a href="#cb26-9"></a><span class="co"># Calcular el número de victorias por partido y ciudad</span></span>
<span id="cb26-10"><a href="#cb26-10"></a>victorias <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb26-11"><a href="#cb26-11"></a>  <span class="fu">group_by</span>(fecha, cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb26-12"><a href="#cb26-12"></a>  <span class="fu">filter</span>(votos <span class="sc">==</span> <span class="fu">max</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb26-13"><a href="#cb26-13"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb26-14"><a href="#cb26-14"></a>  <span class="fu">group_by</span>(fecha, <span class="at">ciudad =</span> (censo <span class="sc">&gt;</span> <span class="dv">10000</span>), siglas) <span class="sc">|&gt;</span> </span>
<span id="cb26-15"><a href="#cb26-15"></a>  <span class="fu">count</span>(siglas) <span class="sc">|&gt;</span> </span>
<span id="cb26-16"><a href="#cb26-16"></a>  <span class="fu">rename</span>(<span class="at">victorias=</span>n) <span class="sc">|&gt;</span> </span>
<span id="cb26-17"><a href="#cb26-17"></a>  <span class="fu">group_by</span>(fecha, ciudad) <span class="sc">|&gt;</span> </span>
<span id="cb26-18"><a href="#cb26-18"></a>  <span class="fu">mutate</span>(<span class="at">victorias_t =</span> <span class="fu">sum</span>(victorias, <span class="at">na.rm =</span> <span class="cn">TRUE</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb26-19"><a href="#cb26-19"></a>  <span class="fu">ungroup</span>()</span>
<span id="cb26-20"><a href="#cb26-20"></a></span>
<span id="cb26-21"><a href="#cb26-21"></a><span class="co"># Calcular el porcentaje de victorias</span></span>
<span id="cb26-22"><a href="#cb26-22"></a>porc_victorias <span class="ot">&lt;-</span> victorias <span class="sc">|&gt;</span> </span>
<span id="cb26-23"><a href="#cb26-23"></a>  <span class="fu">mutate</span>(<span class="at">porc_vict =</span> <span class="fu">case_when</span>(</span>
<span id="cb26-24"><a href="#cb26-24"></a>    ciudad <span class="sc">==</span> <span class="cn">TRUE</span> <span class="sc">~</span> victorias <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> victorias_t,</span>
<span id="cb26-25"><a href="#cb26-25"></a>    ciudad <span class="sc">==</span> <span class="cn">FALSE</span> <span class="sc">~</span> victorias <span class="sc">*</span> <span class="dv">100</span> <span class="sc">/</span> victorias_t</span>
<span id="cb26-26"><a href="#cb26-26"></a>  ))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="section-18" class="slide level2">
<h2></h2>
<h3 id="ganadores.-rural-ciudad">Ganadores. Rural-Ciudad</h3>

<img data-src="index_files/figure-revealjs/unnamed-chunk-39-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">El primero y el segundo se mantuvieron en ambos lugares, pero sin embargo, podemos ver que en las ciudades predomina más el voto de Podemos (que se encuentra en tercer lugar) que en lo rural</p></section>
<section id="section-19" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-40-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">A lo largo de los años el PSOE ha ido ganando más votos en lo rural y en las ciudades, siendo la diferencia con el resto de partidos mayor en estas</p></section>
<section id="section-20" class="slide level2">
<h2></h2>
<div class="columns">
<div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-f7ccbafc67677fce2879" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-f7ccbafc67677fce2879">{"x":{"data":[{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[1.2250000000000001,2.2999999999999998],"y":[60.131319763624425,54.109589041095887],"text":["ciudad: FALSE<br />porc_vict: 60.13131976<br />siglas: PP","ciudad:  TRUE<br />porc_vict: 54.10958904<br />siglas: PP"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[0.68500000000000005,1.6999999999999997],"y":[1.4182534471437951,2.2260273972602738],"text":["ciudad: FALSE<br />porc_vict:  1.41825345<br />siglas: EAJPNV","ciudad:  TRUE<br />porc_vict:  2.22602740<br />siglas: EAJPNV"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[0.77500000000000002,1.7999999999999998],"y":[1.2475377544320421,0.51369863013698636],"text":["ciudad: FALSE<br />porc_vict:  1.24753775<br />siglas: EHBILDU","ciudad:  TRUE<br />porc_vict:  0.51369863<br />siglas: EHBILDU"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(8,204,180,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.080999999999999961,"base":0,"x":[1.405],"y":[0.013131976362442548],"text":"ciudad: FALSE<br />porc_vict:  0.01313198<br />siglas: VOX","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(90,192,53,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[1.135,2.2000000000000002],"y":[2.4425476034143139,13.356164383561644],"text":["ciudad: FALSE<br />porc_vict:  2.44254760<br />siglas: PODEMOS","ciudad:  TRUE<br />porc_vict: 13.35616438<br />siglas: PODEMOS"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[0.95500000000000007,2],"y":[1.2606697307944845,3.2534246575342465],"text":["ciudad: FALSE<br />porc_vict:  1.26066973<br />siglas: MÉSCOMPROM","ciudad:  TRUE<br />porc_vict:  3.25342466<br />siglas: MÉSCOMPROM"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,80,42,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[1.3149999999999999,2.4000000000000004],"y":[19.3827971109652,13.86986301369863],"text":["ciudad: FALSE<br />porc_vict: 19.38279711<br />siglas: PSOE","ciudad:  TRUE<br />porc_vict: 13.86986301<br />siglas: PSOE"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[0.59499999999999997,1.5999999999999999],"y":[0.28890347997373605,0.51369863013698636],"text":["ciudad: FALSE<br />porc_vict:  0.28890348<br />siglas: CS","ciudad:  TRUE<br />porc_vict:  0.51369863<br />siglas: CS"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,79,0,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[0.86499999999999999,1.8999999999999999],"y":[1.2212738017071569,0.34246575342465752],"text":["ciudad: FALSE<br />porc_vict:  1.22127380<br />siglas: ERC","ciudad:  TRUE<br />porc_vict:  0.34246575<br />siglas: ERC"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.080999999999999961,0.089999999999999858],"base":[0,0],"x":[1.0449999999999999,2.0999999999999996],"y":[12.593565331582402,11.815068493150685],"text":["ciudad: FALSE<br />porc_vict: 12.59356533<br />siglas: OTROS","ciudad:  TRUE<br />porc_vict: 11.81506849<br />siglas: OTROS"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":63.820672478206731,"r":7.3059360730593621,"b":44.56621004566211,"l":43.105022831050235},"paper_bgcolor":"rgba(255,245,238,1)","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724},"title":{"text":"<b> % Victorias en 2015 <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":33.208800332088011},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["FALSE","TRUE"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["FALSE","TRUE"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"<b> ciudad <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-3.0065659881812214,63.137885751805648],"tickmode":"array","ticktext":["0%","20%","40%","60%"],"tickvals":[0,20,40,60],"categoryorder":"array","categoryarray":["0%","20%","40%","60%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"<b> porc_vict <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"4160598e2495":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"4160598e2495","visdat":{"4160598e2495":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div><div class="column" style="width:50%;">
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-dd78f216ea9ba9b1a011" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-dd78f216ea9ba9b1a011">{"x":{"data":[{"orientation":"v","width":[0.073636363636363722,0.11571428571428566],"base":[0,0],"x":[1.2454545454545456,2.1285714285714281],"y":[36.584410497453973,12.606473594548552],"text":["ciudad: FALSE<br />porc_vict: 36.58441050<br />siglas: PP","ciudad:  TRUE<br />porc_vict: 12.60647359<br />siglas: PP"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.073636363636363722,0.11571428571428566],"base":[0,0],"x":[0.75454545454545452,1.6142857142857141],"y":[1.7234625930278105,3.5775127768313459],"text":["ciudad: FALSE<br />porc_vict:  1.72346259<br />siglas: EAJPNV","ciudad:  TRUE<br />porc_vict:  3.57751278<br />siglas: EAJPNV"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.073636363636363722,0.11571428571428566],"base":[0,0],"x":[0.83636363636363631,1.7428571428571427],"y":[2.1021021021021022,0.68143100511073251],"text":["ciudad: FALSE<br />porc_vict:  2.10210210<br />siglas: EHBILDU","ciudad:  TRUE<br />porc_vict:  0.68143101<br />siglas: EHBILDU"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(8,204,180,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.073636363636363722,0.11571428571428566],"base":[0,0],"x":[1.4090909090909092,2.3857142857142852],"y":[3.3946990468729599,6.9846678023850082],"text":["ciudad: FALSE<br />porc_vict:  3.39469905<br />siglas: VOX","ciudad:  TRUE<br />porc_vict:  6.98466780<br />siglas: VOX"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(90,192,53,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.073636363636363722,"base":0,"x":[0.59090909090909094],"y":[0.01305653479566523],"text":"ciudad: FALSE<br />porc_vict:  0.01305653<br />siglas: BNG","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(116,180,220,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.073636363636363722,"base":0,"x":[1.1636363636363636],"y":[0.82256169212690955],"text":"ciudad: FALSE<br />porc_vict:  0.82256169<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.073636363636363722,"base":0,"x":[1],"y":[0.039169604386995689],"text":"ciudad: FALSE<br />porc_vict:  0.03916960<br />siglas: MÉSCOMPROM","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,80,42,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.073636363636363722,0.11571428571428566],"base":[0,0],"x":[1.3272727272727272,2.2571428571428571],"y":[41.062801932367151,58.432708688245313],"text":["ciudad: FALSE<br />porc_vict: 41.06280193<br />siglas: PSOE","ciudad:  TRUE<br />porc_vict: 58.43270869<br />siglas: PSOE"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.073636363636363722,"base":0,"x":[0.67272727272727273],"y":[0.091395743569656615],"text":"ciudad: FALSE<br />porc_vict:  0.09139574<br />siglas: CS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,79,0,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.073636363636363722,0.11571428571428566],"base":[0,0],"x":[0.91818181818181821,1.8714285714285712],"y":[0.80950515733124428,0.34071550255536626],"text":["ciudad: FALSE<br />porc_vict:  0.80950516<br />siglas: ERC","ciudad:  TRUE<br />porc_vict:  0.34071550<br />siglas: ERC"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":[0.073636363636363722,0.11571428571428588],"base":[0,0],"x":[1.0818181818181816,2],"y":[13.356835095965531,17.37649063032368],"text":["ciudad: FALSE<br />porc_vict: 13.35683510<br />siglas: OTROS","ciudad:  TRUE<br />porc_vict: 17.37649063<br />siglas: OTROS"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,0.75)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":63.820672478206731,"r":7.3059360730593621,"b":44.56621004566211,"l":43.105022831050235},"paper_bgcolor":"rgba(255,245,238,1)","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724},"title":{"text":"<b> % Victorias en 2019-11 <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":33.208800332088011},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,2.6000000000000001],"tickmode":"array","ticktext":["FALSE","TRUE"],"tickvals":[1,2],"categoryorder":"array","categoryarray":["FALSE","TRUE"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"<b> ciudad <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-2.9216354344122659,61.354344122657579],"tickmode":"array","ticktext":["0%","20%","40%","60%"],"tickvals":[0,20,40,60],"categoryorder":"array","categoryarray":["0%","20%","40%","60%"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"<b> porc_vict <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":11.68949771689498},"title":{"text":"","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"416064fb78ea":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"416064fb78ea","visdat":{"416064fb78ea":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
</div>
</div>
</div>
</section>
<section id="caso-8" class="slide level2">
<h2>CASO 8</h2>
<h3 id="en-general">En general</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1"></a>votos_partido <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb27-2"><a href="#cb27-2"></a>  <span class="fu">group_by</span>(fecha,siglas) <span class="sc">|&gt;</span> </span>
<span id="cb27-3"><a href="#cb27-3"></a>  <span class="fu">summarise</span>(<span class="at">votos_nac=</span><span class="fu">sum</span>(votos)) <span class="sc">|&gt;</span> </span>
<span id="cb27-4"><a href="#cb27-4"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb27-5"><a href="#cb27-5"></a>  <span class="fu">mutate</span>(<span class="at">year=</span><span class="fu">year</span>(fecha), <span class="at">month=</span><span class="fu">month</span>(fecha)) <span class="co"># para porder unir con encuestas</span></span>
<span id="cb27-6"><a href="#cb27-6"></a></span>
<span id="cb27-7"><a href="#cb27-7"></a>votos_total <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb27-8"><a href="#cb27-8"></a>  <span class="fu">group_by</span>(fecha) <span class="sc">|&gt;</span> </span>
<span id="cb27-9"><a href="#cb27-9"></a>  <span class="fu">summarise</span>(<span class="at">total_voto=</span> <span class="fu">sum</span>(votos)) <span class="co"># para tener cuantos han sido los votos totales</span></span>
<span id="cb27-10"><a href="#cb27-10"></a></span>
<span id="cb27-11"><a href="#cb27-11"></a>votos_partido <span class="ot">&lt;-</span> votos_partido <span class="sc">|&gt;</span> </span>
<span id="cb27-12"><a href="#cb27-12"></a>  <span class="fu">left_join</span>(votos_total, <span class="at">by=</span><span class="st">"fecha"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb27-13"><a href="#cb27-13"></a>  <span class="fu">mutate</span>(<span class="at">prop_voto =</span> (votos_nac <span class="sc">*</span> <span class="dv">100</span>)<span class="sc">/</span>total_voto) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<h3 id="código-por-casa-encuestadora-y-partido">Código por casa encuestadora y partido</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1"></a>int_voto_casa <span class="ot">&lt;-</span> encuestas_limpias <span class="sc">|&gt;</span></span>
<span id="cb28-2"><a href="#cb28-2"></a>  <span class="fu">mutate</span>(<span class="at">year=</span><span class="fu">year</span>(date_elec), <span class="at">month=</span><span class="fu">month</span>(date_elec))  <span class="sc">|&gt;</span> </span>
<span id="cb28-3"><a href="#cb28-3"></a>  <span class="fu">select</span>(id_pollster, pollster, est_voto_sigla, partidos, year, month)</span>
<span id="cb28-4"><a href="#cb28-4"></a></span>
<span id="cb28-5"><a href="#cb28-5"></a>error_casa_encuestadora <span class="ot">&lt;-</span> votos_partido <span class="sc">|&gt;</span> </span>
<span id="cb28-6"><a href="#cb28-6"></a>  <span class="fu">inner_join</span>(int_voto_casa, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"siglas"</span><span class="ot">=</span><span class="st">"partidos"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb28-7"><a href="#cb28-7"></a>  <span class="fu">group_by</span>(year,month,siglas, id_pollster) <span class="sc">|&gt;</span> </span>
<span id="cb28-8"><a href="#cb28-8"></a>  <span class="fu">mutate</span>(<span class="at">est_voto_sigla=</span><span class="fu">mean</span>(est_voto_sigla)) <span class="sc">|&gt;</span> </span>
<span id="cb28-9"><a href="#cb28-9"></a>  <span class="fu">distinct</span>(id_pollster, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb28-10"><a href="#cb28-10"></a>  <span class="fu">mutate</span>(<span class="at">diferencia =</span> est_voto_sigla <span class="sc">-</span> prop_voto ) <span class="sc">|&gt;</span> </span>
<span id="cb28-11"><a href="#cb28-11"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb28-12"><a href="#cb28-12"></a>  <span class="fu">select</span>(fecha, siglas, id_pollster, pollster, prop_voto, est_voto_sigla, diferencia)</span>
<span id="cb28-13"><a href="#cb28-13"></a></span>
<span id="cb28-14"><a href="#cb28-14"></a>error_casa_encuestadora</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 880 × 7
   fecha      siglas id_pollster pollster    prop_voto est_voto_sigla diferencia
   &lt;date&gt;     &lt;chr&gt;  &lt;chr&gt;       &lt;chr&gt;           &lt;dbl&gt;          &lt;dbl&gt;      &lt;dbl&gt;
 1 2008-03-01 BNG    pollster-18 SIGMA DOS       0.835           0.8     -0.0354
 2 2008-03-01 BNG    pollster-51 OBRADOIRO …     0.835           1        0.165 
 3 2008-03-01 BNG    pollster-38 SONDAXE         0.835           1.1      0.265 
 4 2008-03-01 BNG    pollster-55 APPEND          0.835           0.6     -0.235 
 5 2008-03-01 BNG    pollster-19 CIS             0.835           0.9      0.0646
 6 2008-03-01 BNG    pollster-43 CELESTE-TEL     0.835           1.45     0.615 
 7 2008-03-01 BNG    pollster-57 IBERCONSUL…     0.835           1.45     0.615 
 8 2008-03-01 BNG    pollster-45 NOXA            0.835           1        0.165 
 9 2008-03-01 CIU    pollster-49 GESOP           3.09            3.93     0.837 
10 2008-03-01 CIU    pollster-48 DEMOMÉTRICA     3.09            9.5      6.41  
# ℹ 870 more rows</code></pre>
</div>
</div>
</section>
<section id="section-21" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb30"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb30-1"><a href="#cb30-1"></a><span class="co"># Para las gráficas 2008</span></span>
<span id="cb30-2"><a href="#cb30-2"></a>media_global_psoe <span class="ot">&lt;-</span> error_casa_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb30-3"><a href="#cb30-3"></a>  <span class="fu">filter</span>(fecha<span class="sc">==</span><span class="st">"2008-03-01"</span>, siglas<span class="sc">==</span><span class="st">"PSOE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-4"><a href="#cb30-4"></a>  <span class="fu">mutate</span>(<span class="at">media_global=</span><span class="fu">mean</span>(diferencia)) <span class="sc">|&gt;</span> </span>
<span id="cb30-5"><a href="#cb30-5"></a>  <span class="fu">distinct</span>(media_global) <span class="sc">|&gt;</span> </span>
<span id="cb30-6"><a href="#cb30-6"></a>  <span class="fu">pull</span>(media_global)</span>
<span id="cb30-7"><a href="#cb30-7"></a></span>
<span id="cb30-8"><a href="#cb30-8"></a>error_psoe <span class="ot">&lt;-</span> error_casa_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb30-9"><a href="#cb30-9"></a>  <span class="fu">filter</span>(fecha<span class="sc">==</span><span class="st">"2008-03-01"</span>, siglas<span class="sc">==</span><span class="st">"PSOE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-10"><a href="#cb30-10"></a>  <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb30-11"><a href="#cb30-11"></a>  <span class="fu">distinct</span>(pollster, <span class="at">.keep_all=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-46-1.png" width="960" class="r-stretch"></section>
<section id="section-22" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1"></a><span class="co"># Para las gráficas 2019</span></span>
<span id="cb31-2"><a href="#cb31-2"></a>media_global_psoe_2019 <span class="ot">&lt;-</span> error_casa_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb31-3"><a href="#cb31-3"></a>  <span class="fu">filter</span>(fecha<span class="sc">==</span><span class="st">"2019-11-01"</span>, siglas<span class="sc">==</span><span class="st">"PSOE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb31-4"><a href="#cb31-4"></a>  <span class="fu">mutate</span>(<span class="at">media_global=</span><span class="fu">mean</span>(diferencia)) <span class="sc">|&gt;</span> </span>
<span id="cb31-5"><a href="#cb31-5"></a>  <span class="fu">distinct</span>(media_global) <span class="sc">|&gt;</span> </span>
<span id="cb31-6"><a href="#cb31-6"></a>  <span class="fu">pull</span>(media_global)</span>
<span id="cb31-7"><a href="#cb31-7"></a></span>
<span id="cb31-8"><a href="#cb31-8"></a>error_psoe_2019 <span class="ot">&lt;-</span> error_casa_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb31-9"><a href="#cb31-9"></a>  <span class="fu">filter</span>(fecha<span class="sc">==</span><span class="st">"2019-11-01"</span>, siglas<span class="sc">==</span><span class="st">"PSOE"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb31-10"><a href="#cb31-10"></a>  <span class="fu">slice_sample</span>(<span class="at">n=</span><span class="dv">10</span>) <span class="sc">|&gt;</span> </span>
<span id="cb31-11"><a href="#cb31-11"></a>  <span class="fu">distinct</span>(pollster, <span class="at">.keep_all=</span><span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>

<img data-src="index_files/figure-revealjs/unnamed-chunk-48-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Concretando para el PSOE, como podemos comprobar el error medio ha disminuido desde 2008 hasta las últimas elecciones en 2019. Aún así, las encuestas suelen dar al PSOE más votos de lo que realmente luego obtienen en las encuestas</p></section>
<section id="section-23" class="slide level2">
<h2></h2>
<h3 id="código-por-partido">Código por partido</h3>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb32"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb32-1"><a href="#cb32-1"></a>int_voto <span class="ot">&lt;-</span> encuestas_limpias <span class="sc">|&gt;</span> </span>
<span id="cb32-2"><a href="#cb32-2"></a>  <span class="fu">group_by</span>(date_elec, partidos) <span class="sc">|&gt;</span> </span>
<span id="cb32-3"><a href="#cb32-3"></a>  <span class="fu">summarise</span>(<span class="at">int_voto=</span><span class="fu">mean</span>(est_voto_sigla)) <span class="sc">|&gt;</span> </span>
<span id="cb32-4"><a href="#cb32-4"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb32-5"><a href="#cb32-5"></a>  <span class="fu">mutate</span>(<span class="at">year=</span><span class="fu">year</span>(date_elec), <span class="at">month=</span><span class="fu">month</span>(date_elec)) </span>
<span id="cb32-6"><a href="#cb32-6"></a></span>
<span id="cb32-7"><a href="#cb32-7"></a></span>
<span id="cb32-8"><a href="#cb32-8"></a>error <span class="ot">&lt;-</span> votos_partido <span class="sc">|&gt;</span> </span>
<span id="cb32-9"><a href="#cb32-9"></a>  <span class="fu">inner_join</span>(int_voto, <span class="at">by=</span><span class="fu">c</span>(<span class="st">"year"</span>, <span class="st">"month"</span>, <span class="st">"siglas"</span><span class="ot">=</span><span class="st">"partidos"</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb32-10"><a href="#cb32-10"></a>  <span class="fu">select</span>(<span class="sc">-</span>date_elec, <span class="sc">-</span>year, <span class="sc">-</span>month) <span class="sc">|&gt;</span> </span>
<span id="cb32-11"><a href="#cb32-11"></a>  <span class="fu">mutate</span>(<span class="at">diferencia=</span><span class="fu">abs</span>(int_voto<span class="sc">-</span>prop_voto))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
</section>
<section id="section-24" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-50-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Gráfico por siglas del error de las encuestas cada año</p></section>
<section id="section-25" class="slide level2">
<h2></h2>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-1c45b13f3552ff997f78" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-1c45b13f3552ff997f78">{"x":{"data":[{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[0.24790438707699902],"text":"siglas: BNG<br />diferencia:  0.24790439<br />siglas: BNG","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(116,180,220,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"BNG","legendgroup":"BNG","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999991,"base":0,"x":[1],"y":[0.31597701367579756],"text":"siglas: BNG<br />diferencia:  0.31597701<br />siglas: BNG","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(116,180,220,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"BNG","legendgroup":"BNG","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[0.19561341121787068],"text":"siglas: CIU<br />diferencia:  0.19561341<br />siglas: CIU","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(28,54,135,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"CIU","legendgroup":"CIU","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000013,"base":0,"x":[2],"y":[0.75993205642772477],"text":"siglas: CIU<br />diferencia:  0.75993206<br />siglas: CIU","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(28,54,135,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"CIU","legendgroup":"CIU","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[1.282661712277033],"text":"siglas: CS<br />diferencia:  1.28266171<br />siglas: CS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,79,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"CS","legendgroup":"CS","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[1.7117598866750257],"text":"siglas: CS<br />diferencia:  1.71175989<br />siglas: CS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,79,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"CS","legendgroup":"CS","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[0.18251800278286368],"text":"siglas: CS<br />diferencia:  0.18251800<br />siglas: CS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,79,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"CS","legendgroup":"CS","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[3],"y":[4.2553370362828122],"text":"siglas: CS<br />diferencia:  4.25533704<br />siglas: CS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(250,79,0,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"CS","legendgroup":"CS","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[0.58149344433349426],"text":"siglas: EAJPNV<br />diferencia:  0.58149344<br />siglas: EAJPNV","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EAJPNV","legendgroup":"EAJPNV","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[0.13069314061752735],"text":"siglas: EAJPNV<br />diferencia:  0.13069314<br />siglas: EAJPNV","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EAJPNV","legendgroup":"EAJPNV","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[0.21625178357235741],"text":"siglas: EAJPNV<br />diferencia:  0.21625178<br />siglas: EAJPNV","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EAJPNV","legendgroup":"EAJPNV","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[0.083104144224334098],"text":"siglas: EAJPNV<br />diferencia:  0.08310414<br />siglas: EAJPNV","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EAJPNV","legendgroup":"EAJPNV","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[0.047675043225356095],"text":"siglas: EAJPNV<br />diferencia:  0.04767504<br />siglas: EAJPNV","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EAJPNV","legendgroup":"EAJPNV","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[4],"y":[0.39141600825760547],"text":"siglas: EAJPNV<br />diferencia:  0.39141601<br />siglas: EAJPNV","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(6,124,41,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EAJPNV","legendgroup":"EAJPNV","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[5],"y":[0.1882033366597593],"text":"siglas: EHBILDU<br />diferencia:  0.18820334<br />siglas: EHBILDU","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(8,204,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EHBILDU","legendgroup":"EHBILDU","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[5],"y":[0.10342850622361166],"text":"siglas: EHBILDU<br />diferencia:  0.10342851<br />siglas: EHBILDU","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(8,204,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EHBILDU","legendgroup":"EHBILDU","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[5],"y":[0.095077590965123915],"text":"siglas: EHBILDU<br />diferencia:  0.09507759<br />siglas: EHBILDU","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(8,204,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EHBILDU","legendgroup":"EHBILDU","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[5],"y":[0.13910729686469736],"text":"siglas: EHBILDU<br />diferencia:  0.13910730<br />siglas: EHBILDU","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(8,204,180,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"EHBILDU","legendgroup":"EHBILDU","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[1.1783475170206112],"text":"siglas: ERC<br />diferencia:  1.17834752<br />siglas: ERC","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ERC","legendgroup":"ERC","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[0.059675856421628204],"text":"siglas: ERC<br />diferencia:  0.05967586<br />siglas: ERC","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ERC","legendgroup":"ERC","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[0.046168260145288631],"text":"siglas: ERC<br />diferencia:  0.04616826<br />siglas: ERC","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ERC","legendgroup":"ERC","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[0.059207726467680466],"text":"siglas: ERC<br />diferencia:  0.05920773<br />siglas: ERC","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ERC","legendgroup":"ERC","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[0.14896622424941741],"text":"siglas: ERC<br />diferencia:  0.14896622<br />siglas: ERC","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ERC","legendgroup":"ERC","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[6],"y":[1.1495995008856901],"text":"siglas: ERC<br />diferencia:  1.14959950<br />siglas: ERC","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(255,191,65,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"ERC","legendgroup":"ERC","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[7],"y":[1.6205399916805339],"text":"siglas: MÉSCOMPROM<br />diferencia:  1.62053999<br />siglas: MÉSCOMPROM","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,80,42,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"MÉSCOMPROM","legendgroup":"MÉSCOMPROM","showlegend":true,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[7],"y":[0.52844545919656971],"text":"siglas: MÉSCOMPROM<br />diferencia:  0.52844546<br />siglas: MÉSCOMPROM","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,80,42,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"MÉSCOMPROM","legendgroup":"MÉSCOMPROM","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.90000000000000036,"base":0,"x":[7],"y":[0.033450613238570681],"text":"siglas: MÉSCOMPROM<br />diferencia:  0.03345061<br />siglas: MÉSCOMPROM","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(214,80,42,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"MÉSCOMPROM","legendgroup":"MÉSCOMPROM","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999947,"base":0,"x":[8],"y":[2.5712942819402],"text":"siglas: MPAÍS<br />diferencia:  2.57129428<br />siglas: MPAÍS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(22,124,108,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"MPAÍS","legendgroup":"MPAÍS","showlegend":true,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[7.082785211441915],"text":"siglas: OTROS<br />diferencia:  7.08278521<br />siglas: OTROS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OTROS","legendgroup":"OTROS","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[8.6938734804434183],"text":"siglas: OTROS<br />diferencia:  8.69387348<br />siglas: OTROS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OTROS","legendgroup":"OTROS","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[4.8529613486326664],"text":"siglas: OTROS<br />diferencia:  4.85296135<br />siglas: OTROS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OTROS","legendgroup":"OTROS","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[2.3557923092633031],"text":"siglas: OTROS<br />diferencia:  2.35579231<br />siglas: OTROS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OTROS","legendgroup":"OTROS","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[4.6439023626333142],"text":"siglas: OTROS<br />diferencia:  4.64390236<br />siglas: OTROS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OTROS","legendgroup":"OTROS","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[9],"y":[6.3773743170557662],"text":"siglas: OTROS<br />diferencia:  6.37737432<br />siglas: OTROS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(190,190,190,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"OTROS","legendgroup":"OTROS","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[1.809300008507174],"text":"siglas: PODEMOS<br />diferencia:  1.80930001<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PODEMOS","legendgroup":"PODEMOS","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[2.4212870510246121],"text":"siglas: PODEMOS<br />diferencia:  2.42128705<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PODEMOS","legendgroup":"PODEMOS","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[1.2806806790666094],"text":"siglas: PODEMOS<br />diferencia:  1.28068068<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PODEMOS","legendgroup":"PODEMOS","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[3.197959380932371],"text":"siglas: PODEMOS<br />diferencia:  3.19795938<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PODEMOS","legendgroup":"PODEMOS","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[1.3354466542918821],"text":"siglas: PODEMOS<br />diferencia:  1.33544665<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PODEMOS","legendgroup":"PODEMOS","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[10],"y":[0.35600189524599202],"text":"siglas: PODEMOS<br />diferencia:  0.35600190<br />siglas: PODEMOS","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(147,107,244,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PODEMOS","legendgroup":"PODEMOS","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[2.1752626008225775],"text":"siglas: PP<br />diferencia:  2.17526260<br />siglas: PP","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PP","legendgroup":"PP","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[2.0541893050652078],"text":"siglas: PP<br />diferencia:  2.05418931<br />siglas: PP","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PP","legendgroup":"PP","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[1.1928043210208976],"text":"siglas: PP<br />diferencia:  1.19280432<br />siglas: PP","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PP","legendgroup":"PP","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[3.6037806828315517],"text":"siglas: PP<br />diferencia:  3.60378068<br />siglas: PP","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PP","legendgroup":"PP","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[3.6083339501603824],"text":"siglas: PP<br />diferencia:  3.60833395<br />siglas: PP","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PP","legendgroup":"PP","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[11],"y":[0.56942871138808826],"text":"siglas: PP<br />diferencia:  0.56942871<br />siglas: PP","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(0,86,163,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PP","legendgroup":"PP","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[4.6931335463291362],"text":"siglas: PSOE<br />diferencia:  4.69313355<br />siglas: PSOE","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PSOE","legendgroup":"PSOE","showlegend":true,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[10.713563138111041],"text":"siglas: PSOE<br />diferencia: 10.71356314<br />siglas: PSOE","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PSOE","legendgroup":"PSOE","showlegend":false,"xaxis":"x2","yaxis":"y2","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[2.3322897962579532],"text":"siglas: PSOE<br />diferencia:  2.33228980<br />siglas: PSOE","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PSOE","legendgroup":"PSOE","showlegend":false,"xaxis":"x3","yaxis":"y3","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[1.0434105769531392],"text":"siglas: PSOE<br />diferencia:  1.04341058<br />siglas: PSOE","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PSOE","legendgroup":"PSOE","showlegend":false,"xaxis":"x","yaxis":"y4","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[1.1663263465455387],"text":"siglas: PSOE<br />diferencia:  1.16632635<br />siglas: PSOE","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PSOE","legendgroup":"PSOE","showlegend":false,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[12],"y":[3.5309937430686205],"text":"siglas: PSOE<br />diferencia:  3.53099374<br />siglas: PSOE","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(228,4,20,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"PSOE","legendgroup":"PSOE","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[13],"y":[0.52793698701051639],"text":"siglas: VOX<br />diferencia:  0.52793699<br />siglas: VOX","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(90,192,53,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"VOX","legendgroup":"VOX","showlegend":true,"xaxis":"x2","yaxis":"y5","hoverinfo":"text","frame":null},{"orientation":"v","width":0.89999999999999858,"base":0,"x":[13],"y":[4.5582307143686975],"text":"siglas: VOX<br />diferencia:  4.55823071<br />siglas: VOX","type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(90,192,53,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"name":"VOX","legendgroup":"VOX","showlegend":false,"xaxis":"x3","yaxis":"y6","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":42.301369863013704,"r":7.3059360730593621,"b":32.876712328767127,"l":31.415525114155255},"paper_bgcolor":"rgba(255,245,238,1)","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724},"xaxis":{"domain":[0,0.32819634703196343],"automargin":true,"type":"linear","autorange":false,"range":[0.40000000000000002,13.6],"tickmode":"array","ticktext":["BNG","CIU","CS","EAJPNV","EHBILDU","ERC","MÉSCOMPROM","MPAÍS","OTROS","PODEMOS","PP","PSOE","VOX"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13],"categoryorder":"array","categoryarray":["BNG","CIU","CS","EAJPNV","EHBILDU","ERC","MÉSCOMPROM","MPAÍS","OTROS","PODEMOS","PP","PSOE","VOX"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y4","title":"","hoverformat":".2f"},"annotations":[{"text":"<b> siglas <\/b>","x":0.5,"y":0,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"top","annotationType":"axis","yshift":-7.3059360730593621},{"text":"<b> diferencia <\/b>","x":0,"y":0.5,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724},"xref":"paper","yref":"paper","textangle":-90,"xanchor":"right","yanchor":"center","annotationType":"axis","xshift":-16.073059360730596},{"text":"2008-03-01","x":0.16409817351598172,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Montserrat","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2011-11-01","x":0.5,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Montserrat","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2015-12-01","x":0.83590182648401823,"y":1,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Montserrat","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2016-06-01","x":0.16409817351598172,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Montserrat","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2019-04-01","x":0.5,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Montserrat","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"},{"text":"2019-11-01","x":0.83590182648401823,"y":0.48515981735159819,"showarrow":false,"ax":0,"ay":0,"font":{"color":"rgba(26,26,26,1)","family":"Montserrat","size":11.68949771689498},"xref":"paper","yref":"paper","textangle":-0,"xanchor":"center","yanchor":"bottom"}],"yaxis":{"domain":[0.51484018264840181,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.35413926057209577,7.4369244720140104],"tickmode":"array","ticktext":["0","2","4","6"],"tickvals":[0,2,3.9999999999999996,6],"categoryorder":"array","categoryarray":["0","2","4","6"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.32819634703196343,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(235,235,235,1)","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.32819634703196343,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.3384703196347032,"x1":0.6615296803652968,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(235,235,235,1)","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.3384703196347032,"x1":0.6615296803652968,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.67180365296803646,"x1":1,"y0":0.51484018264840181,"y1":1},{"type":"rect","fillcolor":"rgba(235,235,235,1)","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.67180365296803646,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":1,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":0.32819634703196343,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(235,235,235,1)","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0,"x1":0.32819634703196343,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.3384703196347032,"x1":0.6615296803652968,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(235,235,235,1)","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.3384703196347032,"x1":0.6615296803652968,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"},{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0.67180365296803646,"x1":1,"y0":0,"y1":0.48515981735159819},{"type":"rect","fillcolor":"rgba(235,235,235,1)","line":{"color":"rgba(0,0,0,1)","width":0.66417600664176002,"linetype":"solid"},"yref":"paper","xref":"paper","x0":0.67180365296803646,"x1":1,"y0":0,"y1":23.37899543378996,"yanchor":0.48515981735159819,"ysizemode":"pixel"}],"xaxis2":{"type":"linear","autorange":false,"range":[0.40000000000000002,13.6],"tickmode":"array","ticktext":["BNG","CIU","CS","EAJPNV","EHBILDU","ERC","MÉSCOMPROM","MPAÍS","OTROS","PODEMOS","PP","PSOE","VOX"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13],"categoryorder":"array","categoryarray":["BNG","CIU","CS","EAJPNV","EHBILDU","ERC","MÉSCOMPROM","MPAÍS","OTROS","PODEMOS","PP","PSOE","VOX"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.3384703196347032,0.6615296803652968],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y5","title":"","hoverformat":".2f"},"yaxis2":{"type":"linear","autorange":false,"range":[-0.53567815690555209,11.249241295016594],"tickmode":"array","ticktext":["0","3","6","9"],"tickvals":[0,3,6,9],"categoryorder":"array","categoryarray":["0","3","6","9"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"xaxis3":{"type":"linear","autorange":false,"range":[0.40000000000000002,13.6],"tickmode":"array","ticktext":["BNG","CIU","CS","EAJPNV","EHBILDU","ERC","MÉSCOMPROM","MPAÍS","OTROS","PODEMOS","PP","PSOE","VOX"],"tickvals":[1,2,3,4,5,6,7,8,9,10,11,12,13],"categoryorder":"array","categoryarray":["BNG","CIU","CS","EAJPNV","EHBILDU","ERC","MÉSCOMPROM","MPAÍS","OTROS","PODEMOS","PP","PSOE","VOX"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":false,"tickfont":{"color":null,"family":null,"size":0},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.67180365296803646,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y6","title":"","hoverformat":".2f"},"yaxis3":{"type":"linear","autorange":false,"range":[-0.24264806743163334,5.0956094160643],"tickmode":"array","ticktext":["0","1","2","3","4","5"],"tickvals":[2.7755575615628914e-17,1,1.9999999999999998,3,4,5],"categoryorder":"array","categoryarray":["0","1","2","3","4","5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0.51484018264840181,1],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"yaxis4":{"type":"linear","autorange":false,"range":[-0.18018903414157761,3.7839697169731292],"tickmode":"array","ticktext":["0","1","2","3"],"tickvals":[0,0.99999999999999989,2,3],"categoryorder":"array","categoryarray":["0","1","2","3"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":"","hoverformat":".2f"},"yaxis5":{"type":"linear","autorange":false,"range":[-0.23219511813166571,4.8760974807649795],"tickmode":"array","ticktext":["0","1","2","3","4"],"tickvals":[0,1,2,3,3.9999999999999996],"categoryorder":"array","categoryarray":["0","1","2","3","4"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x2","title":"","hoverformat":".2f"},"yaxis6":{"type":"linear","autorange":false,"range":[-0.31886871585278831,6.6962430329085549],"tickmode":"array","ticktext":["0","2","4","6"],"tickvals":[0,2,4,6],"categoryorder":"array","categoryarray":["0","2","4","6"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"domain":[0,0.48515981735159819],"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x3","title":"","hoverformat":".2f"},"showlegend":true,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":11.68949771689498},"title":{"text":"siglas","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"41603fdc3574":{"x":{},"y":{},"fill":{},"type":"bar"}},"cur_data":"41603fdc3574","visdat":{"41603fdc3574":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Gráfico por año del error de las encuestas a los partidos</p>
</div>
</div>
</section>
<section id="caso-9" class="slide level2">
<h2>CASO 9</h2>
<h3 id="en-qué-elección-se-equivocaron-más-las-encuestas">¿En qué elección se equivocaron más las encuestas?</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1"></a>error_elec <span class="ot">&lt;-</span> </span>
<span id="cb33-2"><a href="#cb33-2"></a>  error_casa_encuestadora <span class="sc">|&gt;</span> </span>
<span id="cb33-3"><a href="#cb33-3"></a>  <span class="fu">summarise</span>(<span class="at">media_error =</span> <span class="fu">mean</span>(diferencia), <span class="at">.by =</span> <span class="fu">c</span>(fecha, pollster)) <span class="sc">|&gt;</span> </span>
<span id="cb33-4"><a href="#cb33-4"></a>  <span class="fu">filter</span>(media_error<span class="sc">==</span><span class="fu">max</span>(media_error))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Las encuesta que más se equivocó fue la realizada por 40DB en las elecciones del 2019-11-01 con una media de error del 2.6546548</p>
</section>
<section id="section-26" class="slide level2">
<h2></h2>
<div class="cell">
<div class="cell-output-display">
<div class="plotly html-widget html-fill-item-overflow-hidden html-fill-item" id="htmlwidget-317d39d87101986438a6" style="width:960px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-317d39d87101986438a6">{"x":{"data":[{"orientation":"v","width":[164.70000000000073,164.69999999999709,164.69999999999709,164.69999999999709,164.69999999999709],"base":[0,0,0,0,0],"x":[13939,16770,16953,17987,18201],"y":[3,1,3,4,9],"text":["count: 3<br />fecha: 13939","count: 1<br />fecha: 16770","count: 3<br />fecha: 16953","count: 4<br />fecha: 17987","count: 9<br />fecha: 18201"],"type":"bar","textposition":"none","marker":{"autocolorscale":false,"color":"rgba(173,216,230,1)","line":{"width":1.8897637795275593,"color":"transparent"}},"showlegend":false,"xaxis":"x","yaxis":"y","hoverinfo":"text","frame":null}],"layout":{"margin":{"t":63.820672478206731,"r":7.3059360730593621,"b":44.56621004566211,"l":43.105022831050235},"paper_bgcolor":"rgba(255,245,238,1)","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724},"title":{"text":"<b> Error encuestas <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":33.208800332088011},"x":0,"xref":"paper"},"xaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[13635.315000000001,18504.684999999998],"tickmode":"array","ticktext":["2009-01-01","2011-01-01","2013-01-01","2015-01-01","2017-01-01","2019-01-01"],"tickvals":[14245,14975,15706,16436,17167,17897],"categoryorder":"array","categoryarray":["2009-01-01","2011-01-01","2013-01-01","2015-01-01","2017-01-01","2019-01-01"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"y","title":{"text":"<b> fecha <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}},"hoverformat":".2f"},"yaxis":{"domain":[0,1],"automargin":true,"type":"linear","autorange":false,"range":[-0.45000000000000001,9.4499999999999993],"tickmode":"array","ticktext":["0.0","2.5","5.0","7.5"],"tickvals":[0,2.5000000000000004,5,7.5],"categoryorder":"array","categoryarray":["0.0","2.5","5.0","7.5"],"nticks":null,"ticks":"","tickcolor":null,"ticklen":3.6529680365296811,"tickwidth":0,"showticklabels":true,"tickfont":{"color":"rgba(77,77,77,1)","family":"Montserrat","size":11.68949771689498},"tickangle":-0,"showline":false,"linecolor":null,"linewidth":0,"showgrid":true,"gridcolor":"rgba(235,235,235,1)","gridwidth":0.66417600664176002,"zeroline":false,"anchor":"x","title":{"text":"<b> aparición <\/b>","font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":14.611872146118724}},"hoverformat":".2f"},"shapes":[{"type":"rect","fillcolor":null,"line":{"color":null,"width":0,"linetype":[]},"yref":"paper","xref":"paper","x0":0,"x1":1,"y0":0,"y1":1}],"showlegend":false,"legend":{"bgcolor":null,"bordercolor":null,"borderwidth":0,"font":{"color":"rgba(0,0,0,1)","family":"Montserrat","size":11.68949771689498}},"hovermode":"closest","barmode":"relative"},"config":{"doubleClick":"reset","modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"source":"A","attrs":{"41606a4a73a6":{"x":{},"type":"bar"}},"cur_data":"41606a4a73a6","visdat":{"41606a4a73a6":["function (y) ","x"]},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Muestra de 20 valores máximos visualizando qué año aparece más veces</p>
</div>
</div>
</section>
<section id="caso-10" class="slide level2">
<h2>CASO 10</h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-54-1.png" width="960" class="r-stretch"></section>
<section id="section-27" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-55-1.png" width="960" class="r-stretch"></section>
<section id="section-28" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-56-1.png" width="960" class="r-stretch"></section>
<section id="section-29" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-57-1.png" width="960" class="r-stretch"></section>
<section id="section-30" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-58-1.png" width="960" class="r-stretch"></section>
<section id="section-31" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-59-1.png" width="960" class="r-stretch"></section>
<section id="caso-11" class="slide level2">
<h2>CASO 11</h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-60-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">Viendo la gráfica, las encuestas que más aciertan son aquellos cuyos valores sean más cercanos al 0 y el color de su barra sea blanco, mientras que los que más fallan son aquellos que se alejan del 0 y están en los extremos</p></section>
<section id="section-32" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-61-1.png" width="960" class="r-stretch"></section>
<section id="section-33" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-62-1.png" width="960" class="r-stretch"></section>
<section id="section-34" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-63-1.png" width="960" class="r-stretch"></section>
<section id="section-35" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-64-1.png" width="960" class="r-stretch"></section>
<section id="section-36" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-65-1.png" width="960" class="r-stretch"></section>
<section id="section-37" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb34"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb34-1"><a href="#cb34-1"></a><span class="co"># Ajustar el fondo de cada gráfico</span></span>
<span id="cb34-2"><a href="#cb34-2"></a>gr2008 <span class="ot">&lt;-</span> gr2008 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>))</span>
<span id="cb34-3"><a href="#cb34-3"></a>gr2011 <span class="ot">&lt;-</span> gr2011 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>))</span>
<span id="cb34-4"><a href="#cb34-4"></a>gr2015 <span class="ot">&lt;-</span> gr2015 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>))</span>
<span id="cb34-5"><a href="#cb34-5"></a>gr2016 <span class="ot">&lt;-</span> gr2016 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>))</span>
<span id="cb34-6"><a href="#cb34-6"></a>gr2019 <span class="ot">&lt;-</span> gr2019 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>))</span>
<span id="cb34-7"><a href="#cb34-7"></a>gr2019 <span class="ot">&lt;-</span> gr2019_11 <span class="sc">+</span> <span class="fu">theme</span>(<span class="at">panel.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>), <span class="at">plot.background =</span> <span class="fu">element_rect</span>(<span class="at">fill =</span> <span class="st">"white"</span>))</span>
<span id="cb34-8"><a href="#cb34-8"></a></span>
<span id="cb34-9"><a href="#cb34-9"></a></span>
<span id="cb34-10"><a href="#cb34-10"></a><span class="fu">ggsave</span>(<span class="st">"gr2008.png"</span>, gr2008, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb34-11"><a href="#cb34-11"></a><span class="fu">ggsave</span>(<span class="st">"gr2011.png"</span>, gr2011, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb34-12"><a href="#cb34-12"></a><span class="fu">ggsave</span>(<span class="st">"gr2015.png"</span>, gr2015, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb34-13"><a href="#cb34-13"></a><span class="fu">ggsave</span>(<span class="st">"gr2016.png"</span>, gr2016, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb34-14"><a href="#cb34-14"></a><span class="fu">ggsave</span>(<span class="st">"gr2019.png"</span>, gr2019, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb34-15"><a href="#cb34-15"></a><span class="fu">ggsave</span>(<span class="st">"gr2019_11.png"</span>, gr2019_11, <span class="at">width =</span> <span class="dv">10</span>, <span class="at">height =</span> <span class="dv">8</span>, <span class="at">units =</span> <span class="st">"in"</span>, <span class="at">bg =</span> <span class="st">"white"</span>)</span>
<span id="cb34-16"><a href="#cb34-16"></a></span>
<span id="cb34-17"><a href="#cb34-17"></a></span>
<span id="cb34-18"><a href="#cb34-18"></a><span class="fu">library</span>(magick)</span>
<span id="cb34-19"><a href="#cb34-19"></a></span>
<span id="cb34-20"><a href="#cb34-20"></a>img_list <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"gr2008.png"</span>, <span class="st">"gr2011.png"</span>, </span>
<span id="cb34-21"><a href="#cb34-21"></a>              <span class="st">"gr2015.png"</span>, <span class="st">"gr2016.png"</span>, <span class="st">"gr2019.png"</span>, <span class="st">"gr2019_11.png"</span>)</span>
<span id="cb34-22"><a href="#cb34-22"></a></span>
<span id="cb34-23"><a href="#cb34-23"></a>gif <span class="ot">&lt;-</span> <span class="fu">image_read</span>(img_list) <span class="sc">|&gt;</span> </span>
<span id="cb34-24"><a href="#cb34-24"></a>       <span class="fu">image_animate</span>(<span class="at">fps =</span> <span class="fl">0.25</span>)</span>
<span id="cb34-25"><a href="#cb34-25"></a></span>
<span id="cb34-26"><a href="#cb34-26"></a>gif</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>

</div>
<img data-src="index_files/figure-revealjs/unnamed-chunk-66-1.gif" class="r-stretch"></section>
<section id="caso-12" class="slide level2">
<h2>CASO 12</h2>
<p>¿Cómo variaron los resultados electorales en municipios con una fuerte presencia de un determinado partido en las elecciones de 2008?</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1"></a>municipio_mayor_dif_2008 <span class="ot">&lt;-</span> codigo_municipio <span class="sc">|&gt;</span> </span>
<span id="cb35-2"><a href="#cb35-2"></a>  <span class="fu">filter</span>(<span class="fu">year</span>(fecha)<span class="sc">==</span><span class="dv">2008</span>) <span class="sc">|&gt;</span> </span>
<span id="cb35-3"><a href="#cb35-3"></a>  <span class="fu">distinct</span>(municipio) <span class="sc">|&gt;</span> </span>
<span id="cb35-4"><a href="#cb35-4"></a>  <span class="fu">pull</span>(municipio)</span>
<span id="cb35-5"><a href="#cb35-5"></a></span>
<span id="cb35-6"><a href="#cb35-6"></a>datos_mayor_dif_años <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb35-7"><a href="#cb35-7"></a>  <span class="fu">left_join</span>(cod_mun, <span class="at">by=</span><span class="st">"cod_mun"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb35-8"><a href="#cb35-8"></a>  <span class="fu">relocate</span>(municipio, <span class="at">.before =</span> cod_mun) <span class="sc">|&gt;</span> </span>
<span id="cb35-9"><a href="#cb35-9"></a>  <span class="fu">filter</span>(municipio <span class="sc">%in%</span> municipio_mayor_dif_2008) <span class="sc">|&gt;</span> </span>
<span id="cb35-10"><a href="#cb35-10"></a>  <span class="fu">group_by</span>(fecha, municipio) <span class="sc">|&gt;</span> </span>
<span id="cb35-11"><a href="#cb35-11"></a>  <span class="fu">mutate</span>(<span class="at">ganador=</span> <span class="fu">n_votado</span>(siglas, votos),</span>
<span id="cb35-12"><a href="#cb35-12"></a>         <span class="at">segundo =</span> <span class="fu">n_votado</span>(siglas, votos, <span class="at">n =</span> <span class="dv">2</span>)) <span class="sc">|&gt;</span> </span>
<span id="cb35-13"><a href="#cb35-13"></a>  <span class="fu">ungroup</span>() <span class="sc">|&gt;</span> </span>
<span id="cb35-14"><a href="#cb35-14"></a>  <span class="fu">distinct</span>(fecha, municipio, <span class="at">.keep_all=</span><span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb35-15"><a href="#cb35-15"></a>  <span class="fu">select</span>(fecha,municipio, ganador, segundo)</span>
<span id="cb35-16"><a href="#cb35-16"></a></span>
<span id="cb35-17"><a href="#cb35-17"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb35-18"><a href="#cb35-18"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"Cañada Rosal"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio    ganador segundo
  &lt;date&gt;     &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Cañada Rosal PSOE    PP     
2 2011-11-01 Cañada Rosal PSOE    PP     
3 2015-12-01 Cañada Rosal PSOE    PODEMOS
4 2016-06-01 Cañada Rosal PSOE    PODEMOS
5 2019-04-01 Cañada Rosal PSOE    PODEMOS
6 2019-11-01 Cañada Rosal PSOE    PODEMOS</code></pre>
</div>
</div>
</section>
<section id="section-38" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span></span>
<span id="cb37-2"><a href="#cb37-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"Luisiana, La"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio    ganador segundo
  &lt;date&gt;     &lt;chr&gt;        &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Luisiana, La PSOE    PP     
2 2011-11-01 Luisiana, La PSOE    PP     
3 2015-12-01 Luisiana, La PSOE    PODEMOS
4 2016-06-01 Luisiana, La PSOE    PODEMOS
5 2019-04-01 Luisiana, La PSOE    CS     
6 2019-11-01 Luisiana, La PSOE    VOX    </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb39-2"><a href="#cb39-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"Aznalcóllar"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio   ganador segundo
  &lt;date&gt;     &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Aznalcóllar PSOE    PP     
2 2011-11-01 Aznalcóllar PSOE    PP     
3 2015-12-01 Aznalcóllar PSOE    PODEMOS
4 2016-06-01 Aznalcóllar PSOE    PODEMOS
5 2019-04-01 Aznalcóllar PSOE    PODEMOS
6 2019-11-01 Aznalcóllar PSOE    PODEMOS</code></pre>
</div>
</div>
</section>
<section id="section-39" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb41-2"><a href="#cb41-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span> <span class="st">"Brenes"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio ganador segundo
  &lt;date&gt;     &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Brenes    PSOE    PP     
2 2011-11-01 Brenes    PSOE    PP     
3 2015-12-01 Brenes    PSOE    PODEMOS
4 2016-06-01 Brenes    PSOE    PODEMOS
5 2019-04-01 Brenes    PSOE    PODEMOS
6 2019-11-01 Brenes    PSOE    PODEMOS</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb43-2"><a href="#cb43-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span> <span class="st">"Alosno"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio ganador segundo
  &lt;date&gt;     &lt;chr&gt;     &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Alosno    PSOE    PP     
2 2011-11-01 Alosno    PSOE    PP     
3 2015-12-01 Alosno    PSOE    PODEMOS
4 2016-06-01 Alosno    PSOE    PP     
5 2019-04-01 Alosno    PSOE    PODEMOS
6 2019-11-01 Alosno    PSOE    PODEMOS</code></pre>
</div>
</div>
</section>
<section id="section-40" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb45-2"><a href="#cb45-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"Markina-Xemein"</span>) <span class="co">#CAMBIO</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio      ganador segundo
  &lt;date&gt;     &lt;chr&gt;          &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Markina-Xemein EAJPNV  EHBILDU
2 2011-11-01 Markina-Xemein OTROS   EAJPNV 
3 2015-12-01 Markina-Xemein EAJPNV  EHBILDU
4 2016-06-01 Markina-Xemein EAJPNV  EHBILDU
5 2019-04-01 Markina-Xemein EAJPNV  EHBILDU
6 2019-11-01 Markina-Xemein EAJPNV  EHBILDU</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb47-2"><a href="#cb47-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"Paterna de Rivera"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio         ganador segundo
  &lt;date&gt;     &lt;chr&gt;             &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Paterna de Rivera PSOE    PP     
2 2011-11-01 Paterna de Rivera PSOE    PP     
3 2015-12-01 Paterna de Rivera PSOE    PODEMOS
4 2016-06-01 Paterna de Rivera PSOE    PP     
5 2019-04-01 Paterna de Rivera PSOE    PP     
6 2019-11-01 Paterna de Rivera PSOE    PP     </code></pre>
</div>
</div>
</section>
<section id="section-41" class="slide level2">
<h2></h2>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb49-2"><a href="#cb49-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"San Bartolomé de la Torre"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio                 ganador segundo
  &lt;date&gt;     &lt;chr&gt;                     &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 San Bartolomé de la Torre PSOE    PP     
2 2011-11-01 San Bartolomé de la Torre PSOE    PP     
3 2015-12-01 San Bartolomé de la Torre PSOE    PP     
4 2016-06-01 San Bartolomé de la Torre PSOE    PP     
5 2019-04-01 San Bartolomé de la Torre PSOE    CS     
6 2019-11-01 San Bartolomé de la Torre PSOE    VOX    </code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1"></a>datos_mayor_dif_años <span class="sc">|&gt;</span> </span>
<span id="cb51-2"><a href="#cb51-2"></a>  <span class="fu">filter</span>(municipio<span class="sc">==</span><span class="st">"Montellano"</span> )</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 4
  fecha      municipio  ganador segundo
  &lt;date&gt;     &lt;chr&gt;      &lt;chr&gt;   &lt;chr&gt;  
1 2008-03-01 Montellano PSOE    PP     
2 2011-11-01 Montellano PSOE    PP     
3 2015-12-01 Montellano PSOE    PP     
4 2016-06-01 Montellano PSOE    PP     
5 2019-04-01 Montellano PSOE    CS     
6 2019-11-01 Montellano PSOE    VOX    </code></pre>
</div>
</div>
</section>
<section id="resumen" class="slide level2">
<h2>Resumen</h2>
<p>En los municipios con mayor diferencia entre el primero y el segundo, ha ganado en todos el PSOE en todas las elecciones salvo MARKINA-XEMEIN que siempre ganó el PNV menos en las elecciones de 2011 que ganó OTROS.</p>
</section>
<section id="caso-13" class="slide level2">
<h2>CASO 13</h2>
<p>¿Cómo ha sido la abtención?,¿Cambiará esta cifra en zonas rurales?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode numberSource r number-lines code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1"></a>datos_abst <span class="ot">&lt;-</span> datos_limpios <span class="sc">|&gt;</span> </span>
<span id="cb53-2"><a href="#cb53-2"></a>  <span class="fu">mutate</span>(<span class="at">abstencion=</span> censo <span class="sc">-</span> <span class="fu">sum</span>(votos)<span class="sc">-</span> votos_blancos<span class="sc">-</span>votos_nulos, </span>
<span id="cb53-3"><a href="#cb53-3"></a>         <span class="at">.by =</span> <span class="fu">c</span>(cod_mun, fecha)) <span class="sc">|&gt;</span> </span>
<span id="cb53-4"><a href="#cb53-4"></a>  <span class="fu">distinct</span>(cod_mun,fecha, <span class="at">.keep_all =</span> <span class="cn">TRUE</span>) <span class="sc">|&gt;</span> </span>
<span id="cb53-5"><a href="#cb53-5"></a>  <span class="fu">mutate</span>(<span class="at">porc_abst=</span> abstencion<span class="sc">*</span><span class="dv">100</span><span class="sc">/</span>censo , <span class="at">.by =</span> <span class="fu">c</span>(cod_mun, fecha)) <span class="sc">|&gt;</span> </span>
<span id="cb53-6"><a href="#cb53-6"></a>  <span class="fu">group_by</span>(<span class="at">ciudad=</span>(censo<span class="sc">&gt;</span><span class="dv">10000</span>), fecha) <span class="sc">|&gt;</span> </span>
<span id="cb53-7"><a href="#cb53-7"></a>  <span class="fu">summarise</span>(<span class="at">media_abste=</span><span class="fu">mean</span>(porc_abst))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</section>
<section id="section-42" class="slide level2">
<h2></h2>

<img data-src="index_files/figure-revealjs/unnamed-chunk-73-1.png" width="960" class="r-stretch quarto-figure-center"><p class="caption">La abstención es ligeramente superior en las ciudades que en las zonas rurales</p></section>
<section id="caso-14" class="slide level2">
<h2>CASO 14</h2>
<div class="cell">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="index_files/figure-revealjs/unnamed-chunk-74-1.gif"></p>
<figcaption>Evolución de los partidos nacionalistas: CIU a lo largo de los años pierde votos igual que el BNG, mientras que ERC gana fuerzas</figcaption>
</figure>
</div>
</div>
</div>
<p><img src="logoComplu.png" class="slide-logo"></p>
<div class="footer footer-default">

</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'smaller': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: false,

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'none',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'none',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1050,

        height: 700,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    
    <script>
      // htmlwidgets need to know to resize themselves when slides are shown/hidden.
      // Fire the "slideenter" event (handled by htmlwidgets.js) when the current
      // slide changes (different for each slide format).
      (function () {
        // dispatch for htmlwidgets
        function fireSlideEnter() {
          const event = window.document.createEvent("Event");
          event.initEvent("slideenter", true, true);
          window.document.dispatchEvent(event);
        }

        function fireSlideChanged(previousSlide, currentSlide) {
          fireSlideEnter();

          // dispatch for shiny
          if (window.jQuery) {
            if (previousSlide) {
              window.jQuery(previousSlide).trigger("hidden");
            }
            if (currentSlide) {
              window.jQuery(currentSlide).trigger("shown");
            }
          }
        }

        // hookup for slidy
        if (window.w3c_slidy) {
          window.w3c_slidy.add_observer(function (slide_num) {
            // slide_num starts at position 1
            fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);
          });
        }

      })();
    </script>

    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button', {
        text: function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
        }
      });
      clipboard.on('success', function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      });
      function tippyHover(el, contentFn) {
        const config = {
          allowHTML: true,
          content: contentFn,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start'
        };
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          return note.innerHTML;
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>